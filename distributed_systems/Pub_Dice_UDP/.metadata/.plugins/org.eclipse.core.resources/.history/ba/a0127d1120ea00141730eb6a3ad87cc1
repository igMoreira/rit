import java.io.IOException;
import java.net.UnknownHostException;


public class PubDice {

	
	public static void main(String[] args) {
		PubDiceUI view = new PubDiceUI();
		view.setTitle("My Pub Dice client");
		view.setVisible(true);
		view.enableButtons(false);
		PubDiceServices server = null;
		try {
			server = new ServerProxy();
		} catch (UnknownHostException e) {
			System.out.printf("CONNECTION ERROR: Error trying connect to host\n");
			e.printStackTrace();
			System.exit(0);
		} catch (IOException e) {
			System.out.printf("CONNECTION ERROR: Error trying to get server I/O\n");
			e.printStackTrace();
			System.exit(1);
		}
		String[] response = null;
		try {
			response = server.join("Iago");
		} catch (IOException e) {
			System.out.printf("REQUEST ERROR: Error trying to join a game\n");
			e.printStackTrace();
			System.exit(2);
		}
		for (String string : response) {
			System.out.println(string);
		}
		try {
			response = server.turnTile(1, true);
		} catch (IOException e) {
			System.out.printf("REQUEST ERROR: Error trying to move a tile\n");
			e.printStackTrace();
			System.exit(2);
		}
		for (String string : response) {
			System.out.println(string);
		}
	}
}
