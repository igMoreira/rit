<?xml version="1.0" encoding="UTF-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Spring</title>
  <link rel="alternate" href="https://spring.io/blog" />
  <link rel="self" href="https://spring.io/blog.atom" />
  <id>http://spring.io/blog.atom</id>
  <icon>https://spring.io/favicon.ico</icon>
  <updated>2015-03-31T18:23:42Z</updated>
  <entry>
    <title>This Week in Spring - March 31, 2015</title>
    <link rel="alternate" href="https://spring.io/blog/2015/03/31/this-week-in-spring-march-31-2015" />
    <category term="engineering" label="Engineering" />
    <author>
      <name>Josh Long</name>
    </author>
    <id>tag:spring.io,2015-03-31:2051</id>
    <updated>2015-03-31T18:23:42Z</updated>
    <content type="html">&lt;p&gt;Welcome to another installment of &lt;em&gt;This Week in Spring&lt;/em&gt;! As usual, we&amp;rsquo;ve got a lot to cover so let&amp;rsquo;s get to it!&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;Spring Security lead Rob Winch &lt;a href="http://spring.io/blog/2015/03/26/spring-security-4-0-0-released"&gt;just announced the amazing Spring Security 4.0 release&lt;/a&gt;! This one is packed with amazing features including websocket support, Spring Data integration, enhanced testing support, and much improved defaults&lt;/li&gt;
  &lt;li&gt;Oh yah, &lt;a href="http://spring.io/blog/2015/03/26/spring-security-3-2-7-released"&gt;Spring Security 3.2.7&lt;/a&gt; with bugfixes aplenty is also released but&amp;hellip; download 4 (see above)!&lt;/li&gt;
  &lt;li&gt;I&amp;rsquo;ll be doing &lt;a href="https://spring.io/blog/2015/03/17/webinar-smarter-service-to-service-invocations-with-spring-cloud"&gt;a webinar on smarter service-to-service invocations with Spring Cloud&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;speaking of allll the data, &lt;a href="http://spring.io/blog/2015/03/26/spring-integration-kafka-support-1-1-ga-is-available"&gt;Spring Integration Kafka 1.1&lt;/a&gt; was just released! This is also included in Spring XD 1.1.1, so check it out!&lt;/li&gt;
  &lt;li&gt;Spring framework 4.1.6, with patches and bugfixes, was just released. &lt;a href="http://spring.io/blog/2015/03/25/spring-framework-4-1-6-released"&gt;It is a recommended update for Spring 4.x users&lt;/a&gt;.&lt;/li&gt;
  &lt;li&gt;I&amp;rsquo;ll be appearing at the Virtual JUG (vJUG) again, this time &lt;a href="http://www.meetup.com/virtualJUG/events/221218834/"&gt;to talk about Spring Cloud-based microservices&lt;/a&gt;. Join us, worldwide!&lt;/li&gt;
  &lt;li&gt;check out Thomas Darimont&amp;rsquo;s amazing post, &lt;a href="http://spring.io/blog/2015/03/26/what-s-new-in-spring-data-fowler"&gt;&lt;em&gt;What&amp;rsquo;s New in Spring Data Fowler&lt;/em&gt;&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;The Disid corporation just posted an &lt;a href="http://spring.io/blog/2015/03/30/looking-ahead-to-spring-roo-2-0"&gt;update looking ahead to Spring Roo 2.0&lt;/a&gt;. Speaking of..&lt;/li&gt;
  &lt;li&gt;I, along with a great many other Spring team members, will be in Barcelona, Spain, for &lt;a href="http://www.springio.net/"&gt;the Spring I/O conference&lt;/a&gt;. Join us! (also, Sangria!)&lt;/li&gt;
  &lt;li&gt;Good news! &lt;a href="http://spring.io/blog/2015/03/26/spring-xd-1-1-1-released"&gt;Spring XD 1.1.1&lt;/a&gt; is released! It includes improved performance and offset management when using Kafka message bus, support for Spark&amp;rsquo;s streaming reliable receiver, Kryo serialization improvements, RabbitMQ auto-cleanup options and a Sqoop example.&lt;/li&gt;
  &lt;li&gt;Greg Turnquist just &lt;a href="http://spring.io/blog/2015/03/26/spring-ws-2-2-1-is-released"&gt;announced Spring WS 2.2.1, with bugfixes, was just released&lt;/a&gt;. Get it while it&amp;rsquo;s hot!&lt;/li&gt;
  &lt;li&gt;The &lt;a href="https://github.com/cloudfoundry/java-buildpack#configuration-and-extension"&gt;Cloud Foundry Java buildpack&lt;/a&gt; now supports overriding inbuilt configuration through the use of well-named environment variables! This means you can tweak all manner of the default behavior without needing to fork the buildpack!&lt;/li&gt;
&lt;/ul&gt;</content>
  </entry>
  <entry>
    <title>SpringOne2GX 2014 Replay: GORM inside and out</title>
    <link rel="alternate" href="https://spring.io/blog/2015/03/31/springone2gx-2014-replay-gorm-inside-and-out" />
    <category term="engineering" label="Engineering" />
    <author>
      <name>Pieter Humphrey</name>
    </author>
    <id>tag:spring.io,2015-03-31:2053</id>
    <updated>2015-03-31T11:33:00Z</updated>
    <content type="html">&lt;p&gt;Recorded at SpringOne2GX 2014. &lt;/p&gt;
&lt;p&gt;Speaker: Jeff Scott Brown &lt;/p&gt;
&lt;p&gt;More Groovy Track &lt;/p&gt;
&lt;p&gt;Slides: &lt;a href="http://www.slideshare.net/SpringCentral/gorm-inside-andout"&gt;http://www.slideshare.net/SpringCentral/gorm-inside-andout&lt;/a&gt; &lt;/p&gt;
&lt;p&gt;GORM is a super powerful ORM tool that makes ORM simple by leveraging the flexibility and expressiveness of a dynamic language like Groovy. With GORM developers get access to all of the power and flexibility of an ORM tool like Hibernate without any of the complexity.&lt;/p&gt;
&lt;p&gt;&#xD;
  &lt;iframe width="560" height="315" src="https://www.youtube.com/embed/ExIfX1MFraU" frameborder="0" allowfullscreen&gt;&lt;/iframe&gt;&#xD;
&lt;/p&gt;</content>
  </entry>
  <entry>
    <title>SpringOne2GX 2014 Replay: Groovy AST Transformations</title>
    <link rel="alternate" href="https://spring.io/blog/2015/03/31/springone2gx-2014-replay-groovy-ast-transformations" />
    <category term="news" label="News and Events" />
    <author>
      <name>Pieter Humphrey</name>
    </author>
    <id>tag:spring.io,2015-03-31:2052</id>
    <updated>2015-03-31T11:07:00Z</updated>
    <content type="html">&lt;p&gt;Recorded at SpringOne2GX 2014. &lt;/p&gt;
&lt;p&gt;Speaker: Paul King &lt;/p&gt;
&lt;p&gt;More Groovy Track &lt;/p&gt;
&lt;p&gt;Slides: &lt;a href="http://www.slideshare.net/SpringCentral/groovy-asttransforms-paulkingsep2014b"&gt;http://www.slideshare.net/SpringCentral/groovy-asttransforms-paulkingsep2014b &lt;/a&gt;&lt;/p&gt;
&lt;p&gt;In this talk you'll learn about some of Groovy's AST transformations.&lt;/p&gt;
&lt;p&gt;&#xD;
  &lt;iframe width="560" height="315" src="https://www.youtube.com/embed/hLBahy6lPWI" frameborder="0" allowfullscreen&gt;&lt;/iframe&gt;&#xD;
&lt;/p&gt;</content>
  </entry>
  <entry>
    <title>SpringOne2GX 2014 Replay: Advanced Groovy Tips and Tricks</title>
    <link rel="alternate" href="https://spring.io/blog/2015/03/31/springone2gx-2014-replay-advanced-groovy-tips-and-tricks" />
    <category term="news" label="News and Events" />
    <author>
      <name>Pieter Humphrey</name>
    </author>
    <id>tag:spring.io,2015-03-31:2050</id>
    <updated>2015-03-31T11:02:00Z</updated>
    <content type="html">&lt;p&gt;Recorded at SpringOne2GX 2014. &lt;/p&gt;
&lt;p&gt;Speaker: Kenneth Kousen &lt;/p&gt;
&lt;p&gt;Core Groovy Track&lt;/p&gt;
&lt;p&gt;Slides: &lt;a href="http://www.slideshare.net/SpringCentral/advanced-groovy-tips-and-tricks"&gt;http://www.slideshare.net/SpringCentral/advanced-groovy-tips-and-tricks&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Groovy has a very easy learning curve for Java developers, so many people become Groovy users without realizing all it can do. This presentation will examine features of Groovy that can make your life easier once you're past the initial adoption stage. Prerequisite: Some Groovy knowledge&lt;/p&gt;
&lt;p&gt;&#xD;
  &lt;iframe width="560" height="315" src="https://www.youtube.com/embed/xzc-LoJ0mt0" frameborder="0" allowfullscreen&gt;&lt;/iframe&gt;&#xD;
&lt;/p&gt;</content>
  </entry>
  <entry>
    <title>SpringOne2GX 2014 Replay: Distributed Platform Development with Groovy</title>
    <link rel="alternate" href="https://spring.io/blog/2015/03/31/springone2gx-2014-replay-distributed-platform-development-with-groovy" />
    <category term="news" label="News and Events" />
    <author>
      <name>Pieter Humphrey</name>
    </author>
    <id>tag:spring.io,2015-03-31:2049</id>
    <updated>2015-03-31T10:45:00Z</updated>
    <content type="html">&lt;p&gt;Recorded at SpringOne2GX 2014.&lt;/p&gt;
&lt;p&gt; Speaker: Dan Woods &lt;/p&gt;
&lt;p&gt;Core Groovy Track &lt;/p&gt;
&lt;p&gt;Slides: &lt;a href="http://www.slideshare.net/SpringCentral/4pieter-springone2gx2014distributedplatformdev"&gt;http://www.slideshare.net/SpringCentral/4pieter-springone2gx2014distributedplatformdev&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Building an Enterprise Application Stack means the necessity to have a service tier that can scale to the demands of business. This talk will discuss the approach to developing a scalable enterprise architecture, and will demonstrate implementations based on the variety of technologies available from the Groovy ecosystem, including Grails, Spring, Spring Boot, and Spring Integration.&lt;/p&gt;
&lt;p&gt;&#xD;
  &lt;iframe width="560" height="315" src="https://www.youtube.com/embed/5IOCM_76wJ8" frameborder="0" allowfullscreen&gt;&lt;/iframe&gt;&#xD;
&lt;/p&gt;</content>
  </entry>
  <entry>
    <title>Looking ahead to Spring Roo 2.0</title>
    <link rel="alternate" href="https://spring.io/blog/2015/03/30/looking-ahead-to-spring-roo-2-0" />
    <category term="engineering" label="Engineering" />
    <author>
      <name>Pieter Humphrey</name>
    </author>
    <id>tag:spring.io,2015-03-30:2046</id>
    <updated>2015-03-30T09:30:00Z</updated>
    <content type="html">&lt;p&gt;Original author: DISID Corporation&lt;/p&gt;
&lt;p&gt;Dear Spring community, &lt;/p&gt;
&lt;p&gt;The DISID Spring Roo team is busily working towards the 2.0 release. With Spring Roo 2.0 we would like recover the essence that defines the Roo project:&lt;/p&gt;
&lt;ul&gt;&#xD;
  &lt;li&gt;  Be a rapid application &lt;strong&gt;development tool&lt;/strong&gt;, Roo isn't either a framework nor Maven plugins.&lt;/li&gt;&#xD;
  &lt;li&gt;  Intelligent code generation to provide &lt;strong&gt;improved productivity&lt;/strong&gt;.&#xD;
&lt;ul&gt;&#xD;
      &lt;li&gt; Developers often are forced to spend too much of their time doing things that add too little value, Spring Roo's code generation helps them stay focused.&lt;/li&gt;&#xD;
    &lt;/ul&gt;&#xD;
  &lt;/li&gt;&#xD;
  &lt;li&gt;  Create applications based on the extensive set of &lt;strong&gt;Spring technologies&lt;/strong&gt;: Spring Boot, Spring Data, Spring MVC, Spring Security, etc.&lt;/li&gt;&#xD;
  &lt;li&gt;  Generate applications based on &lt;strong&gt;best architecture practices&lt;/strong&gt; like: Service Layer, Repository Layer &lt;/li&gt;&#xD;
  &lt;li&gt; New scaffolding model that generates a fully functional &lt;strong&gt;responsive UI&lt;/strong&gt; based on jQuery and Bootstrap. &lt;/li&gt;&#xD;
  &lt;li&gt; Improve &lt;strong&gt;extensibility&lt;/strong&gt; and increase the &lt;strong&gt;collaboration&lt;/strong&gt; of the Spring Roo project:&#xD;
    &lt;ul&gt;&#xD;
      &lt;li&gt; We will create the “&lt;strong&gt;Roo Marketplace&lt;/strong&gt;”: the alternative to Roobot, easier to maintain and available for everyone, a place to find and keep track on third party addons and Roo Addon Suites. &lt;/li&gt;&#xD;
      &lt;li&gt; A “&lt;strong&gt;Roo Addon Suite&lt;/strong&gt;” is a great way to package and distribute a set of add-ons together, for example if you want to distribute Roo custom distributions. Roo Addon Suite is based on OSGi R5 Subsystems that provides a really convenient deployment model, without compromising the modularity of Roo.&lt;/li&gt;&#xD;
    &lt;/ul&gt;&#xD;
  &lt;/li&gt;&#xD;
&lt;/ul&gt;
&lt;p&gt; The new Roo 2.0 is a beginning, in future versions we would like to design a new way to define the view layer components to get a true independence from view layer technologies letting the developers to try the technology that better adjust to their requirements: JSP, Thymeleaf, etc. without losing any benefit. &lt;/p&gt;
&lt;p&gt;We have scheduled the work of the relase 2.0 in 3 main milestones: &lt;/p&gt;
&lt;p&gt; &lt;strong&gt;Milestone 1&lt;/strong&gt;: Create a smaller and easier to maintain Spring Roo distribution. From 2.0, Roo will contain the runtime and the main addons only, so new versions could be released more frequently and being kept up to date with latest Spring projects: &lt;/p&gt;
&lt;ul&gt;&#xD;
  &lt;li&gt; Make a better separation between the Spring Roo runtime and the core addons. The Roo runtime APIs (classpath, metadata, support, etc.) must be kept as stable and backwards compatible as possible.&lt;/li&gt;&#xD;
  &lt;li&gt;  Move the addons not classified as ”core addon” (GWT, JSF, ...) to their own projects to be maintained by Roo community. If your organization would like to contribute to Roo project by maintaining these addons please contact to: springroo@ disid.com&lt;/li&gt;&#xD;
  &lt;li&gt;  Migrate current user guide from docbook to ASCIIdoc.&lt;/li&gt;&#xD;
&lt;/ul&gt;
&lt;p&gt;  &lt;strong&gt;Milestone 2&lt;/strong&gt;: Update code generation to use latest Spring technologies &lt;/p&gt;
&lt;ul&gt;&#xD;
  &lt;li&gt; Update code generation to use the latest Spring framework versions (4.x) &#xD;
    &lt;ul&gt;&#xD;
      &lt;li&gt; Move from Spring framework dependencies to Spring IO Platform&lt;/li&gt;&#xD;
    &lt;/ul&gt;&#xD;
  &lt;/li&gt;&#xD;
  &lt;li&gt; User Managed POM (ROO-3465, ROO-3478) &lt;/li&gt;&#xD;
  &lt;li&gt; Spring Profiles support &lt;/li&gt;&#xD;
  &lt;li&gt; Annotation based configuration: &#xD;
    &lt;ul&gt;&#xD;
      &lt;li&gt; Move to class configuration in spite of XML configuration &lt;/li&gt;&#xD;
      &lt;li&gt; Improve application maintanability by using Spring Boot annotations &lt;/li&gt;&#xD;
    &lt;/ul&gt;&#xD;
  &lt;/li&gt;&#xD;
  &lt;li&gt; Remove Active Record data model in favor of the Repository (Spring Data) based one.&lt;/li&gt;&#xD;
  &lt;li&gt; Generate application arquitecture based on service layer pattern by default &lt;/li&gt;&#xD;
&lt;/ul&gt;
&lt;p&gt; &lt;strong&gt;Milestone 3&lt;/strong&gt;: Move web layer to HTML5 &lt;/p&gt;
&lt;ul&gt;&#xD;
  &lt;li&gt; Responsive UI – View layer based on jQuery, Bootstrap and CSS3 &lt;/li&gt;&#xD;
&lt;/ul&gt;
&lt;p&gt;&lt;em&gt;Important&lt;/em&gt;: Roo 2.0 might contain API changes and less add-ons than previous version so this release probably won't be backward compatible with 1.3. You can see a more specific roadmap in the &lt;a href="https://jira.spring.io/browse/ROO/? selectedTab=com.atlassian.jira.jira-projects-plugin:roadmap-panel"&gt;SpringRoo JIRA&lt;/a&gt;: &lt;/p&gt;
&lt;p&gt;As always, you’ll also find Roo on Twitter - either follow &lt;a href="https://www.twitter.com/springroo"&gt;@SpringRoo&lt;/a&gt; or just include #SpringRoo in your tweets. Stay tuned to Spring Roo news!&lt;/p&gt;</content>
  </entry>
  <entry>
    <title>Spring XD 1.1.1 Released</title>
    <link rel="alternate" href="https://spring.io/blog/2015/03/26/spring-xd-1-1-1-released" />
    <category term="releases" label="Releases" />
    <author>
      <name>Mark Pollack</name>
    </author>
    <id>tag:spring.io,2015-03-26:2045</id>
    <updated>2015-03-26T18:37:00Z</updated>
    <content type="html">&lt;p&gt;On behalf of the Spring XD team, I am very pleased to announce the&lt;br/&gt;first maintenance release of Spring XD 1.1.&lt;/p&gt;&lt;p&gt;Download Link:&lt;br/&gt;1.1.1.RELEASE: &lt;a href="http://repo.spring.io/release/org/springframework/xd/spring-xd/1.1.1.RELEASE/spring-xd-1.1.1.RELEASE-dist.zip"&gt;zip&lt;/a&gt; and &lt;a href="http://docs.spring.io/spring-xd/docs/1.1.1.RELEASE/reference/html/#osx-homebrew-installation"&gt;brew&lt;/a&gt;.&lt;/p&gt;&lt;p&gt;The 1.1.1 release includes bug fixes and some enhancements. The full list of tickets is available in &lt;a href="https://jira.spring.io/issues/?filter=14948"&gt;our JIRA&lt;/a&gt;. &lt;/p&gt;&lt;p&gt;Here are some highlights. &lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;Improved performance and offset management when using Kafka message bus.&lt;/li&gt;
  &lt;li&gt;Support for Spark Streaming&amp;rsquo;s reliable receiver.&lt;/li&gt;
  &lt;li&gt;Kryo serialization improvements.&lt;/li&gt;
  &lt;li&gt;Option to clean up Rabbit queue/topics when deleting the stream.&lt;/li&gt;
  &lt;li&gt;Add a Sqoop example&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;Feedback is very important, so please get in touch with questions and comments via&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;&lt;a href="http://stackoverflow.com/questions/tagged/spring-xd"&gt;StackOverflow&lt;/a&gt; &lt;code&gt;spring-xd&lt;/code&gt; tag&lt;/li&gt;
  &lt;li&gt;&lt;a href="https://jira.spring.io/browse/XD/?selectedTab=com.atlassian.jira.jira-projects-plugin:summary-panel"&gt;Spring JIRA&lt;/a&gt; or &lt;a href="https://github.com/spring-projects/spring-xd/issues"&gt;GitHub Issues&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content>
  </entry>
  <entry>
    <title>Spring WS 2.2.1 is released</title>
    <link rel="alternate" href="https://spring.io/blog/2015/03/26/spring-ws-2-2-1-is-released" />
    <category term="releases" label="Releases" />
    <author>
      <name>Greg Turnquist</name>
    </author>
    <id>tag:spring.io,2015-03-25:2040</id>
    <updated>2015-03-26T17:10:00Z</updated>
    <content type="html">&lt;p&gt;Greetings Spring community,&lt;/p&gt;&lt;p&gt;&lt;a href="http://projects.spring.io/spring-ws/"&gt;Spring WS&lt;/a&gt; has just released version 2.2.1.RELEASE. This is a patch upgrade with no breaking API or behavior changes. I recommend upgrading to ensure you have the latest fixes. For a listing of completed issues see the report below:&lt;/p&gt;&lt;p&gt;&lt;a href="https://jira.spring.io/secure/ReleaseNote.jspa?projectId=10060&amp;version=14639"&gt;Release Notes&lt;/a&gt; | &lt;a href="http://projects.spring.io/spring-ws/"&gt;Project Page&lt;/a&gt; | &lt;a href="https://github.com/spring-projects/spring-ws"&gt;GitHub&lt;/a&gt; | &lt;a href="https://jira.spring.io/browse/SWS"&gt;Issues&lt;/a&gt; | &lt;a href="http://docs.spring.io/spring-ws/docs/2.2.1.RELEASE/reference/htmlsingle/"&gt;Documentation&lt;/a&gt;&lt;/p&gt;&lt;p&gt;The artifacts are staged on maven central, &lt;a href="http://repo.spring.io/release"&gt;http://repo.spring.io/release&lt;/a&gt;, and bintray.&lt;/p&gt;&lt;p&gt;Cheers!&lt;/p&gt;</content>
  </entry>
  <entry>
    <title>Spring Security 4.0.0 Released</title>
    <link rel="alternate" href="https://spring.io/blog/2015/03/26/spring-security-4-0-0-released" />
    <category term="releases" label="Releases" />
    <author>
      <name>Rob Winch</name>
    </author>
    <id>tag:spring.io,2015-03-26:2041</id>
    <updated>2015-03-26T14:26:24Z</updated>
    <content type="html">&lt;p&gt;I&amp;rsquo;m pleased to announce the release of Spring Security 4.0.0.RELEASE which closes over &lt;a href="http://goo.gl/ui9GCl"&gt;175+ tickets&lt;/a&gt;. You can find the highlights below:&lt;/p&gt;&lt;h3&gt;&lt;a href="#websocket-support" class="anchor" name="websocket-support"&gt;&lt;/a&gt;WebSocket Support&lt;/h3&gt;&lt;p&gt;Spring Security 4 added &lt;a href="http://docs.spring.io/spring-security/site/docs/4.0.x/reference/htmlsingle/#websocket"&gt;WebSocket Support&lt;/a&gt;. It is now possible to use Spring Security with &lt;a href="http://docs.spring.io/spring/docs/current/spring-framework-reference/html/websocket.html"&gt;Spring&amp;rsquo;s WebSocket&lt;/a&gt; support.&lt;/p&gt;&lt;h3&gt;&lt;a href="#spring-data-integration" class="anchor" name="spring-data-integration"&gt;&lt;/a&gt;Spring Data Integration&lt;/h3&gt;&lt;p&gt;Spring Security 4 added &lt;a href="http://docs.spring.io/spring-security/site/docs/4.0.x/reference/htmlsingle/#data"&gt;Spring Data Integration&lt;/a&gt;. It is now possible to refer to Spring Security&amp;rsquo;s user within Spring Data queries using SpEL.&lt;/p&gt;&lt;h3&gt;&lt;a href="#test-support" class="anchor" name="test-support"&gt;&lt;/a&gt;Test Support&lt;/h3&gt;&lt;p&gt;Spring Security 4 has added &lt;a href="http://docs.spring.io/spring-security/site/docs/4.0.x/reference/htmlsingle/#test"&gt;Test Support&lt;/a&gt;. It is now much easier to write tests with Spring Security applications.&lt;/p&gt;&lt;h3&gt;&lt;a href="#more-secure-by-default" class="anchor" name="more-secure-by-default"&gt;&lt;/a&gt;More Secure by Default&lt;/h3&gt;&lt;p&gt;As exploits against applications evolve, so must Spring Security. As a major release version, the Spring Security team took the opportunity to make some non-passive changes which focus on:&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;Ensuring Spring Security is more &lt;a href="https://www.owasp.org/index.php/Establish_secure_defaults"&gt;secure by default&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;Minimizing &lt;a href="https://www.owasp.org/index.php/Information_Leakage"&gt;Information Leakage&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;Removing deprecated APIs&lt;/li&gt;
&lt;/ul&gt;&lt;p&gt;For complete details on &lt;strong&gt;migrating from Spring Security 3 to Spring Security 4&lt;/strong&gt; refer &lt;a href="http://docs.spring.io/spring-security/site/docs/4.0.x/reference/htmlsingle/#m3to4"&gt;Migrating from 3.x to 4.x&lt;/a&gt; section of the reference.&lt;/p&gt;&lt;p&gt;&lt;a href="http://projects.spring.io/spring-security/"&gt;Project Site&lt;/a&gt; | &lt;a href="http://docs.spring.io/spring-security/site/docs/4.0.0.RELEASE/reference/htmlsingle/"&gt;Reference&lt;/a&gt; | &lt;a href="http://docs.spring.io/spring-security/site/docs/4.0.0.RELEASE/guides/html5/"&gt;Guides&lt;/a&gt; | &lt;a href="http://goo.gl/ui9GCl"&gt;Issues&lt;/a&gt;&lt;/p&gt;</content>
  </entry>
  <entry>
    <title>What's new in Spring Data Fowler?</title>
    <link rel="alternate" href="https://spring.io/blog/2015/03/26/what-s-new-in-spring-data-fowler" />
    <category term="engineering" label="Engineering" />
    <author>
      <name>Thomas Darimont</name>
    </author>
    <id>tag:spring.io,2015-03-26:2043</id>
    <updated>2015-03-26T13:53:00Z</updated>
    <content type="html">&lt;p&gt;The GA release of Spring Data release train Fowler marks the finishing line of 6 month of development. It&amp;rsquo;s time to give you an impression of the content of this release and a brief overview about individual features. The major themes of the Fowler release train were performance improvements and enhanced Java 8 support that are mainly reflected in the Spring Data JPA and MongoDB modules but a lot of other ones have seen significant improvements, too.&lt;/p&gt;&lt;p&gt;The easiest way to upgrade to the Spring Data Fowler release train is by using Spring Boot and configuring the &lt;code&gt;spring-data-releasetrain.version&lt;/code&gt; property to &lt;code&gt;Fowler-RELEASE&lt;/code&gt;. If you&amp;rsquo;re not using Spring Boot yet, add the &lt;a href="http://search.maven.org/#artifactdetails%7Corg.springframework.data%7Cspring-data-releasetrain%7CFowler-RELEASE%7Cpom"&gt;Spring Data BOM&lt;/a&gt; to your &lt;code&gt;&amp;lt;dependencyManagement /&amp;gt;&lt;/code&gt; section of your Maven POM.&lt;/p&gt;&lt;h2&gt;&lt;a href="#general-themes" class="anchor" name="general-themes"&gt;&lt;/a&gt;General themes&lt;/h2&gt;&lt;h3&gt;&lt;a href="#java-8-streams-in-repository-methods" class="anchor" name="java-8-streams-in-repository-methods"&gt;&lt;/a&gt;Java 8 streams in repository methods&lt;/h3&gt;&lt;p&gt;One of Java 8&amp;rsquo;s great new features is the &lt;code&gt;Stream&lt;/code&gt; API, which allows Java developers to define a pipeline of operations to be executed on a stream of objects but only the final operation actually triggering the consumption of elements from the &lt;code&gt;Stream&lt;/code&gt;.&lt;/p&gt;&lt;p&gt;In the context of data access providing the result of a query execution as &lt;code&gt;Stream&lt;/code&gt; is an extremely useful use case as it prevents the caller of the query method from blocking until all items were read. Not even mentioning the more efficient memory usage here.&lt;/p&gt;&lt;p&gt;With the Fowler release we introduce support for Java 8 Streams as return types of finder methods in repositories. In both the MongoDB and the JPA module you can now go ahead and declare finder methods like this:&lt;/p&gt;
&lt;pre&gt;&lt;code class="prettyprint java"&gt;interface CustomerRepository extends Repository&amp;lt;Customer, Long&amp;gt; {&#xD;
&#xD;
  Stream&amp;lt;Customer&amp;gt; findByLastname(String lastname);&#xD;
}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Calling this method will execute the query backing the repository method and immediately return once the first result is available. To achieve this with JPA, we use persistence provider specific API as JPA itself only provides means to obtain query results as &lt;code&gt;List&lt;/code&gt;s. Repository clients can now go ahead and use the result of the method call in a try-with-resources block. This will make sure the resources held open to be able to traverse the stream will be closed eventually:&lt;/p&gt;
&lt;pre&gt;&lt;code class="prettyprint java"&gt;try (Stream&amp;lt;Customer&amp;gt; customers = repository.findByLastname(&amp;quot;Matthews&amp;quot;)) {&#xD;
  customers.filter(…).map(…).collect(…);&#xD;
}
&lt;/code&gt;&lt;/pre&gt;&lt;h3&gt;&lt;a href="#jsr-310-and-threeten-backport-support" class="anchor" name="jsr-310-and-threeten-backport-support"&gt;&lt;/a&gt;JSR-310 and ThreeTen Backport support&lt;/h3&gt;&lt;p&gt;To easily persist JSR-310 types - the date/time API newly introduced in JDK 8 - from within domain objects we added converters for the relevant types in the MongoDB and JPA module. For developers not able to upgrade to Java 8 yet, we added a similar set of converters for the &lt;a href="https://github.com/ThreeTen/threetenbp"&gt;ThreeTen Backport project&lt;/a&gt; so that you can start using the types in your code even if you&amp;rsquo;re still on Java 7. A switch to Java 8 will be a simple switch in the package names going forward.&lt;/p&gt;&lt;p&gt;In the MongoDB module, the corresponding &lt;code&gt;Converter&lt;/code&gt; implementations are available automatically. For JPA you can simply register either &lt;code&gt;Jsr310JpaConverters&lt;/code&gt; or &lt;code&gt;ThreeTenBackPortJpaConverters&lt;/code&gt; with your persistence provider. If you&amp;rsquo;re using a &lt;code&gt;LocalContainerEntityManagerFactoryBean&lt;/code&gt; to set up your JPA environment in Spring simply add &lt;code&gt;org.springframework.data.jpa.convert.threeten&lt;/code&gt; or &lt;code&gt;….threetenbp&lt;/code&gt; to the packages to scan. With Spring Boot, it&amp;rsquo;s just a matter of adding the aforementioned classes to the &lt;code&gt;@EntityScan&lt;/code&gt; declaration:&lt;/p&gt;
&lt;pre&gt;&lt;code class="prettyprint java"&gt;@EntityScan(&#xD;
  basePackageClasses = { Application.class, Jsr310JpaConverters.class }&#xD;
)&#xD;
@SpringBootApplication&#xD;
class Application { … }
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;This setup will make sure that both your application package and the Spring Data JPA one for the JSR-310 converters will be scanned and handed to the persistence provider. Find a complete example for that in our &lt;a href="https://github.com/spring-projects/spring-data-examples/tree/master/jpa/java8"&gt;Spring Data Examples repository&lt;/a&gt;.&lt;/p&gt;&lt;h2&gt;&lt;a href="#mongodb" class="anchor" name="mongodb"&gt;&lt;/a&gt;MongoDB&lt;/h2&gt;&lt;h3&gt;&lt;a href="#3-0-server-and-driver-support" class="anchor" name="3-0-server-and-driver-support"&gt;&lt;/a&gt;3.0 server and driver support&lt;/h3&gt;&lt;p&gt;Spring Data Fowler ships support for the latest and greatest MongoDB 3.0 server generation. While that generation can already be used with the MongoDB Java driver in version 2.13.0 we also made sure Spring Data MongoDB will work flawlessly with the upcoming 3.0 version of the Java driver. Thus, developers are free to choose which version they&amp;rsquo;re going to work with or rather when they would like to upgrade to the new driver. For general information on compatibility between driver and server versions be sure to check out the &lt;a href="http://docs.mongodb.org/ecosystem/drivers/java/"&gt;MongoDB documentation&lt;/a&gt; Be aware though that subsequent development will clearly focus on the 3.0 line of both the server and the driver.&lt;/p&gt;&lt;p&gt;In general we encourage everyone to favour &lt;code&gt;MongoClient&lt;/code&gt; over &lt;code&gt;Mongo&lt;/code&gt; within JavaConfig or use the newly introduced XML elements for &lt;code&gt;&amp;lt;mongo:mongo-client /&amp;gt;&lt;/code&gt; and &lt;code&gt;&amp;lt;mongo:client-options /&amp;gt;&lt;/code&gt;. For more information please refer to the &lt;a href="http://docs.spring.io/spring-data/mongodb/docs/1.7.0.RELEASE/reference/html/#mongo.mongo-3"&gt;reference documentation&lt;/a&gt;.&lt;/p&gt;&lt;h3&gt;&lt;a href="#geojson-support" class="anchor" name="geojson-support"&gt;&lt;/a&gt;GeoJSON support&lt;/h3&gt;&lt;p&gt;It’s been awhile since MongoDB had introduced &lt;a href="http://geosjon.org"&gt;GeoJSON&lt;/a&gt; as format for dealing with geo structures. These data structures operate on an earth like sphere and therefore cannot be used along with a 2D index. Having said that, the usage is pretty much straight forward since we provide dedicated types to support GeoJSON. Those can be used in both your domain types as well as query parameters.&lt;/p&gt;
&lt;pre&gt;&lt;code class="prettyprint java"&gt;@Document&#xD;
class Store {&#xD;
&#xD;
  @Id String id;&#xD;
&#xD;
  /**&#xD;
   * The location is stored in GeoJSON format:&#xD;
   * { &amp;quot;type&amp;quot; : &amp;quot;Point&amp;quot;, &amp;quot;coordinates&amp;quot; : [ x, y ] }&#xD;
   */&#xD;
  GeoJsonPoint location;&#xD;
}&#xD;
&#xD;
interface StoreRepository extends CrudRepository&amp;lt;Store, String&amp;gt; {&#xD;
&#xD;
  List&amp;lt;Store&amp;gt; findByLocationWithin(Polygon polygon);&#xD;
}&#xD;
&#xD;
repo.findByLocationWithin(&#xD;
  new GeoJsonPolygon(&#xD;
    new Point(-73.992514, 40.758934),&#xD;
    new Point(-73.961138, 40.760348),&#xD;
    new Point(-73.991658, 40.730006),&#xD;
    new Point(-73.992514, 40.758934)));
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;This creates the following query to be executed in MongoDB:&lt;/p&gt;
&lt;pre&gt;&lt;code class="prettyprint json"&gt;{&#xD;
  &amp;quot;location&amp;quot;: {&#xD;
    &amp;quot;$geoWithin&amp;quot;: {&#xD;
      &amp;quot;$geometry&amp;quot;: {&#xD;
        &amp;quot;type&amp;quot;: &amp;quot;Polygon&amp;quot;,&#xD;
        &amp;quot;coordinates&amp;quot;: [[&#xD;
           [-73.992514,40.758934],&#xD;
           [-73.961138,40.760348],&#xD;
           [-73.991658,40.730006],&#xD;
           [-73.992514,40.758934]&#xD;
        ]]&#xD;
      }&#xD;
    }&#xD;
  }&#xD;
}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Note that the &lt;code&gt;StoreRepository.findByLocationWithin(…)&lt;/code&gt; still takes a &lt;code&gt;Polygon&lt;/code&gt;. Using &lt;code&gt;GeoJsonPolygon&lt;/code&gt; with &lt;code&gt;findByLocationWithin(…)&lt;/code&gt; will create the query using the &lt;code&gt;$geometry&lt;/code&gt; operator alongside the GeoJSON representation. More Details on usage and restrictions can be found in the &lt;a href="http://docs.mongodb.org/manual/core/2dsphere/#geospatial-indexes-store-geojson/"&gt;MongoDB manual&lt;/a&gt;.&lt;/p&gt;&lt;h3&gt;&lt;a href="#execution-of-mongodb-stored-scripts" class="anchor" name="execution-of-mongodb-stored-scripts"&gt;&lt;/a&gt;Execution of MongoDB stored scripts&lt;/h3&gt;&lt;p&gt;MongoDB allows to execute JavaScript functions on the server by either directly sending the raw source script or calling one previously stored. We expose this functionality through the newly introduced &lt;code&gt;ScriptOperations&lt;/code&gt; interface which can be obtained from &lt;code&gt;MongoOperations&lt;/code&gt;.&lt;/p&gt;
&lt;pre&gt;&lt;code class="prettyprint java"&gt;ScriptOperations ops = mongoOperations.scriptOps();&#xD;
ExecutableMongoScript script = new ExecutableMongoScript(&amp;quot;function(x) { return x; }&amp;quot;);&#xD;
Object r1 = ops.execute(script, &amp;quot;Direct function execution.&amp;quot;)&#xD;
&#xD;
ops.register(new NamedMongoScript(&amp;quot;echo&amp;quot;, script));&#xD;
Object r2 = ops.call(&amp;quot;echo&amp;quot;, &amp;quot;Call stored function.&amp;quot;);
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;The server-side script support will be enhanced in follow-up releases where we will add return type conversion, annotations for calling procedures from repository methods as well as support for the &lt;code&gt;$where&lt;/code&gt; operator.&lt;/p&gt;&lt;h3&gt;&lt;a href="#performance-improvements-in-object-to-store-conversion" class="anchor" name="performance-improvements-in-object-to-store-conversion"&gt;&lt;/a&gt;Performance improvements in object-to-store conversion&lt;/h3&gt;&lt;p&gt;The object-to-store mapping subsystem has undergone a significant overhaul in terms of performance improvements. We profiled the Commons and store modules, introduced some caching here and there and could actually gain quite an impressive increase of operations per second compared to the Evans release train (although most of the improvements were ported back to the service releases of Evans, too).&lt;/p&gt;&lt;p&gt;&lt;img src="https://gist.githubusercontent.com/olivergierke/1d4239b59c57e05760c3/raw/fowler-bar-chart-read-write.png" alt="Performance improvements in Spring Data Fowler""/&gt;&lt;/p&gt;&lt;p&gt;As you can see, we more than doubled the number of operations per second for read access and are a close to that in write operations, too.&lt;/p&gt;&lt;p&gt;When reading a lot of objects from the data store, a significant amount of time is spent creating the object instances via reflection. With the Fowler release train we introduce a new default &lt;code&gt;EntityInstantiator&lt;/code&gt; that solves that bottleneck by creating a factory class for the domain object at runtime using ASM. This factory class calls the constructor of the domain class directly, which is significantly faster than doing so by reflection. If you&amp;rsquo;re interested in the nifty details, &lt;a href="https://github.com/spring-projects/spring-data-commons/blob/1.10.0.RELEASE/src/main/java/org/springframework/data/convert/BytecodeGeneratingEntityInstantiator.java#L54"&gt;here&lt;/a&gt;&amp;rsquo;s the class that does the trick for us.&lt;/p&gt;&lt;h2&gt;&lt;a href="#redis" class="anchor" name="redis"&gt;&lt;/a&gt;Redis&lt;/h2&gt;&lt;h3&gt;&lt;a href="#hyperloglog" class="anchor" name="hyperloglog"&gt;&lt;/a&gt;HyperLogLog&lt;/h3&gt;&lt;p&gt;Redis &lt;a href="http://redis.io/commands#hyperloglog"&gt;HyperLogLog commands&lt;/a&gt; provide an efficient solution to counting unique things without the need to remember elements already encountered. This applies for instance to counting unique page visits by IP.&lt;/p&gt;
&lt;pre&gt;&lt;code class="prettyprint java"&gt;HyperLogLogOperations hll = redisTemplate.opsForHyperLogLog();&#xD;
&#xD;
hll.add(today(), &amp;quot;8.8.8.8&amp;quot;, &amp;quot;8.8.4.4&amp;quot;);&#xD;
hll.size(today()); // Unique page visits today = 2&#xD;
&#xD;
hll.add(today(), &amp;quot;198.153.192.40&amp;quot;, &amp;quot;8.8.8.8&amp;quot;);&#xD;
hll.size(today()); // Unique page visits today = 3&#xD;
hll.size(today(), yesterday()); // Unique page visits today and yesterday
&lt;/code&gt;&lt;/pre&gt;&lt;h2&gt;&lt;a href="#gemfire" class="anchor" name="gemfire"&gt;&lt;/a&gt;Gemfire&lt;/h2&gt;&lt;p&gt;By far, the most significant change to the GemFire module is full support for GemFire 8. GemFire 8 introduced &lt;a href="http://gemfire80.docs.pivotal.io/8.0.0/userguide/index.html#relnotes/release_notes.html#topic_5mbwjl"&gt;several new changes&lt;/a&gt; since 7.0.2 including a new &lt;a href="http://gemfire80.docs.pivotal.io/8.0.0/userguide/index.html#relnotes/release_notes.html#topic_5mbwjl__section_zk2_p35_v4"&gt;cluster-based configuration service&lt;/a&gt;.&lt;/p&gt;&lt;p&gt;With that service enabled, developers can record their actions and schema-like changes in Gfsh as they perform actions, like adding regions, creating indexes, configuring disk stores, etc. When a developer spins up a new GemFire peer in the cluster, the member will automatically pick up its configuration from the new cluster-based configuration service, hosted in a locator.&lt;/p&gt;&lt;p&gt;While Spring Data GemFire&amp;rsquo;s &lt;a href="http://docs.spring.io/spring-data-gemfire/docs/current/reference/html/#bootstrap"&gt;XML-namespace-based configuration&lt;/a&gt; remains a popular choice, especially during development with highly iterative, short feedback cycles, Spring Data GemFire adds support for the new &lt;a href="http://docs.spring.io/spring-data-gemfire/docs/1.6.0.RC1/reference/html/#bootstrap:cache:cluster-configuration"&gt;cluster-based configuration&lt;/a&gt;, which behaves similarly to Spring Data Gemfire&amp;rsquo;s support for GemFire&amp;rsquo;s &lt;a href="http://docs.spring.io/spring-data-gemfire/docs/1.6.0.RC1/reference/html/#bootstrap:cache"&gt;native `cache.xml&lt;/a&gt; format.&lt;/p&gt;&lt;p&gt;To enable cluster-based configuration in Spring-configured GemFire node, a developer only needs to set the &lt;code&gt;use-cluster-configuration&lt;/code&gt; attribute on the &lt;code&gt;&amp;lt;gfe:cache /&amp;gt;&lt;/code&gt; element, like this:&lt;/p&gt;
&lt;pre&gt;&lt;code class="prettyprint xml"&gt;&amp;lt;gfe:cache id=&amp;quot;?gemfireCache&amp;quot;? use-cluster-configuration=&amp;quot;?true&amp;quot;? … /&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Spring Data GemFire will first request and apply the cluster-wide configuration before applying the XML namespace-specific configuration. You can think of the XML configuration meta-data as augmenting the cluster config sent by the cluster configuration service.&lt;/p&gt;&lt;p&gt;For more information on GemFire&amp;rsquo;s new cluster configuration service, see the &lt;a href="http://gemfire80.docs.pivotal.io/8.0.0/userguide/index.html#deploying/gfsh/gfsh_persist.html"&gt;GemFire user guide&lt;/a&gt; and &lt;a href="https://jira.spring.io/browse/SGF-226"&gt;SGF-226&lt;/a&gt; for more details.&lt;/p&gt;&lt;h2&gt;&lt;a href="#spring-data-rest" class="anchor" name="spring-data-rest"&gt;&lt;/a&gt;Spring Data REST&lt;/h2&gt;&lt;p&gt;Spring Data REST has seen a wide range of improvements in the Fowler release, too. One of the most notable improvements is more entity metadata inspected and used to populate response headers. For example, stores supporting optimistic locking through an &lt;code&gt;@Version&lt;/code&gt; annotation will now get the entity version used as &lt;code&gt;ETag&lt;/code&gt; header, so that clients can leverage them to trigger conditional &lt;code&gt;GET&lt;/code&gt; requests.&lt;/p&gt;&lt;p&gt;Quite related, entities that use Spring Data auditing support will automatically get their last modification date be propagated into the &lt;code&gt;LastModified&lt;/code&gt; header of the response of item resources:&lt;/p&gt;
&lt;pre&gt;&lt;code class="prettyprint java"&gt;class Customer {&#xD;
&#xD;
  @Version Long version;&#xD;
  @LastModifiedDate LocalDate lastModifiedDate;&#xD;
}
&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code class="prettyprint"&gt;curl -v http://…/customers/1&#xD;
&#xD;
Etag: 1&#xD;
Last-Modified: Tue, 24 Mar 2015 12:34:56 GMT
&lt;/code&gt;&lt;/pre&gt;&lt;h3&gt;&lt;a href="#json-schema" class="anchor" name="json-schema"&gt;&lt;/a&gt;JSON Schema&lt;/h3&gt;&lt;p&gt;The Fowler release of Spring Data REST also ships with revamped support for JSON Schema. By default, the schema is pointed to by the representation descriptor in the ALPS document exposed for a domain type. In the &lt;a href="https://github.com/spring-projects/spring-data-examples/tree/master/rest/starbucks"&gt;Starbucks example&lt;/a&gt; you can see the link rendered like this:&lt;/p&gt;
&lt;pre&gt;&lt;code class="prettyprint"&gt;curl http://…/alps/stores&#xD;
&#xD;
{&#xD;
  &amp;quot;version&amp;quot;: &amp;quot;1.0&amp;quot;,&#xD;
  &amp;quot;descriptors&amp;quot;: [ {&#xD;
    &amp;quot;id&amp;quot;: &amp;quot;store-representation&amp;quot;,&#xD;
    &amp;quot;href&amp;quot;: &amp;quot;http://localhost:8080/stores/schema&amp;quot;,&#xD;
    &amp;quot;descriptors&amp;quot;: [ … ]&#xD;
  }],&#xD;
  …&#xD;
}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Following the link will reveal the JSON Schema document for a store:&lt;/p&gt;
&lt;pre&gt;&lt;code class="prettyprint"&gt;{&#xD;
  &amp;quot;title&amp;quot;: &amp;quot;example.stores.Store&amp;quot;,&#xD;
  &amp;quot;properties&amp;quot;: {&#xD;
    &amp;quot;address&amp;quot;: {&#xD;
      &amp;quot;$ref&amp;quot;: &amp;quot;#/descriptors/address&amp;quot;&#xD;
    },&#xD;
    &amp;quot;name&amp;quot;: {&#xD;
      &amp;quot;type&amp;quot;: &amp;quot;string&amp;quot;&#xD;
    }&#xD;
  },&#xD;
  &amp;quot;descriptors&amp;quot;: {&#xD;
    &amp;quot;address&amp;quot;: {&#xD;
      &amp;quot;type&amp;quot;: &amp;quot;object&amp;quot;,&#xD;
      &amp;quot;properties&amp;quot;: {&#xD;
        &amp;quot;zip&amp;quot;: {&#xD;
          &amp;quot;type&amp;quot;: &amp;quot;string&amp;quot;&#xD;
        },&#xD;
        &amp;quot;city&amp;quot;: {&#xD;
          &amp;quot;type&amp;quot;: &amp;quot;string&amp;quot;&#xD;
        },&#xD;
        &amp;quot;street&amp;quot;: {&#xD;
          &amp;quot;type&amp;quot;: &amp;quot;string&amp;quot;&#xD;
        },&#xD;
        &amp;quot;location&amp;quot;: {&#xD;
          &amp;quot;$ref&amp;quot;: &amp;quot;#/descriptors/point&amp;quot;&#xD;
        }&#xD;
      }&#xD;
    },&#xD;
    &amp;quot;point&amp;quot;: {&#xD;
      &amp;quot;type&amp;quot;: &amp;quot;object&amp;quot;,&#xD;
      &amp;quot;properties&amp;quot;: {&#xD;
        &amp;quot;x&amp;quot;: {&#xD;
          &amp;quot;type&amp;quot;: &amp;quot;number&amp;quot;&#xD;
        },&#xD;
        &amp;quot;y&amp;quot;: {&#xD;
          &amp;quot;type&amp;quot;: &amp;quot;number&amp;quot;&#xD;
        }&#xD;
      }&#xD;
    }&#xD;
  },&#xD;
  &amp;quot;type&amp;quot;: &amp;quot;object&amp;quot;,&#xD;
  &amp;quot;$schema&amp;quot;: &amp;quot;http://json-schema.org/draft-04/schema#&amp;quot;&#xD;
}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Note how we derive basic traits of the schema from the domain type and its Jackson mappings. Required properties can be determined by using &lt;code&gt;@JsonProperty(required = true)&lt;/code&gt;, date/time types are correctly discovered and advertised. You can register a custom JSON Schema format or pattern on &lt;code&gt;RepositoryRestConfiguration.metadataConfiguration()&lt;/code&gt;:&lt;/p&gt;
&lt;pre&gt;&lt;code class="prettyprint java"&gt;@Configuration&#xD;
static class SampleConfiguration extends RepositoryRestMvcConfiguration {&#xD;
&#xD;
  @Override&#xD;
  protected void configureRepositoryRestConfiguration(&#xD;
    RepositoryRestConfiguration config) {&#xD;
    config.metadataConfiguration().&#xD;
      registerJsonSchemaFormat(JsonSchemaFormat.EMAIL, EmailAddress.class);&#xD;
  }&#xD;
}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Assuming &lt;code&gt;EmailAddress&lt;/code&gt; is a value object that you have tweaked Jackson into rendering as plain &lt;code&gt;String&lt;/code&gt;, this configuration will cause all properties of type &lt;code&gt;EmailAddress&lt;/code&gt; to appear with the &lt;code&gt;format&lt;/code&gt;set to &lt;code&gt;email&lt;/code&gt; in the JSON schema document.&lt;/p&gt;&lt;h2&gt;&lt;a href="#solr" class="anchor" name="solr"&gt;&lt;/a&gt;Solr&lt;/h2&gt;&lt;h3&gt;&lt;a href="#document-score-improvements" class="anchor" name="document-score-improvements"&gt;&lt;/a&gt;Document score improvements&lt;/h3&gt;&lt;p&gt;The Fowler release added support for realtime-get allowing to read uncommitted changes from the index. &lt;code&gt;getById&lt;/code&gt; is available on &lt;code&gt;SolrTemplate&lt;/code&gt;. Also noteworthy is the addition of &lt;code&gt;@Score&lt;/code&gt; which was inspired by &lt;code&gt;@TextScore&lt;/code&gt; available for Spring Data MongoDB. The annotation allows retrieving document score and will implicitly add required parameters so that one no longer has to explicitly add &lt;code&gt;@Query(fields={&amp;quot;*&amp;quot;, &amp;quot;score&amp;quot;}&lt;/code&gt; when retrieving document query match score.&lt;/p&gt;&lt;h2&gt;&lt;a href="#miscellaneous" class="anchor" name="miscellaneous"&gt;&lt;/a&gt;Miscellaneous&lt;/h2&gt;&lt;h3&gt;&lt;a href="#elevating-projections" class="anchor" name="elevating-projections"&gt;&lt;/a&gt;Elevating projections&lt;/h3&gt;&lt;p&gt;Spring Data REST shipped a feature called projections with the Evans release train. In Fowler we moved the infrastructure backing that into Spring Data Commons and tweaked it a bit, so that other projects can use it without further dependencies. The very heart of the feature is a &lt;code&gt;ProjectionFactory&lt;/code&gt; that allows you to create object instances for interfaces that are backed some other object, e.g. a &lt;code&gt;Map&lt;/code&gt;.&lt;/p&gt;
&lt;pre&gt;&lt;code class="prettyprint java"&gt;interface Customer {&#xD;
&#xD;
  String getFirstname();&#xD;
&#xD;
  String getLastname();&#xD;
&#xD;
  @Value(&amp;quot;#{target.firstname + &amp;#39; &amp;#39; + target.lastname}&amp;quot;)&#xD;
  String getFullName();&#xD;
}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;This interface can now be turned into an object using a &lt;code&gt;ProjectionFactory&lt;/code&gt;:&lt;/p&gt;
&lt;pre&gt;&lt;code class="prettyprint java"&gt;Map&amp;lt;String, Object&amp;gt; map = new HashMap&amp;lt;&amp;gt;();&#xD;
map.put(&amp;quot;firstname&amp;quot;, &amp;quot;Dave&amp;quot;);&#xD;
map.put(&amp;quot;lastname&amp;quot;, &amp;quot;Matthews&amp;quot;);&#xD;
&#xD;
ProjectionFactory factory = new SpelAwareProjectionFactory();&#xD;
Customer customer = factory.createProjection(Customer.class, map)&#xD;
&#xD;
assertThat(customer.getFirstname(), is(&amp;quot;Dave&amp;quot;));&#xD;
assertThat(customer.getLastname(), is(&amp;quot;Matthews&amp;quot;));&#xD;
assertThat(customer.getFullName(), is(&amp;quot;Dave Matthews&amp;quot;));
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;As you can see, we chose a &lt;code&gt;Map&lt;/code&gt; to back the created projection instance. Under the hood a JDK proxy is created equipped with method interceptors that - in case of a &lt;code&gt;Map&lt;/code&gt; backing the proxy - delegating calls to accessors to property lookups within the &lt;code&gt;Map&lt;/code&gt;. Methods annotated with &lt;code&gt;@Value&lt;/code&gt; will get the annotated SpEL expression evaluated. In case you configure a &lt;code&gt;BeanFactory&lt;/code&gt; on the &lt;code&gt;SpelAwareProjectionFactory&lt;/code&gt; you can even refer to Spring beans from within these expressions and thus trigger more complex calculations.&lt;/p&gt;&lt;p&gt;In case the backing lookup does not return a value assignable to the return type declared, a standard &lt;code&gt;ConversionService&lt;/code&gt; is used for simple conversions followed by a recursive projection step.&lt;/p&gt;&lt;h3&gt;&lt;a href="#projections-in-spring-mvc" class="anchor" name="projections-in-spring-mvc"&gt;&lt;/a&gt;Projections in Spring MVC&lt;/h3&gt;&lt;p&gt;The projection mechanism can now be used by Spring MVC controller implementations to create form backing objects solely using interfaces. Using &lt;code&gt;@EnableSpringDataWebSupport&lt;/code&gt; in your Spring configuration (automatically activated in Boot) a &lt;code&gt;ProxyingHandlerMethodArgumentResolver&lt;/code&gt; is resolved that will automatically create a proxy instance for the interface and bind the according request parameters to it:&lt;/p&gt;
&lt;pre&gt;&lt;code class="prettyprint java"&gt;interface Form {&#xD;
&#xD;
  @NotBlank String getName();&#xD;
  @NotBlank String getText();&#xD;
}&#xD;
&#xD;
@Controller&#xD;
@RequestMapping(value = &amp;quot;/guestbook&amp;quot;)&#xD;
class GuestbookController {&#xD;
&#xD;
  @RequestMapping(method = RequestMethod.GET)&#xD;
  String guestbook(Form form, Model model) { … }&#xD;
&#xD;
  @RequestMapping(method = RequestMethod.POST)&#xD;
  String guestbook(@Valid Form form, Errors errors, Model model) { … }&#xD;
}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;See how the interface is used in the method accepting a &lt;code&gt;GET&lt;/code&gt; request to provide an empty form-backing object to the view about to be rendered. The method receiving the &lt;code&gt;POST&lt;/code&gt; request uses the &lt;code&gt;Form&lt;/code&gt; to indicate it wants to get form data bound to the proxy instance and validation applied.&lt;/p&gt;&lt;h2&gt;&lt;a href="#summary" class="anchor" name="summary"&gt;&lt;/a&gt;Summary&lt;/h2&gt;&lt;p&gt;Despite the length of the post, we barely scratched the surface of all the new features Spring Data Fowler ships. You might want to explore the &lt;a href="https://github.com/spring-projects/spring-data-commons/wiki/Release-Train-Fowler"&gt;release train wiki&lt;/a&gt; for further gems, and traverse the links to the tickets and related commits in turn as they contain test cases that usually demonstrate a the individual features nicely.&lt;/p&gt;&lt;p&gt;Also, the already mentioned &lt;a href="https://github.com/spring-projects/spring-data-examples"&gt;Spring Data examples repository&lt;/a&gt; has a lot of stuff to play with and explore.&lt;/p&gt;</content>
  </entry>
  <entry>
    <title>Spring Security 3.2.7 Released</title>
    <link rel="alternate" href="https://spring.io/blog/2015/03/26/spring-security-3-2-7-released" />
    <category term="releases" label="Releases" />
    <author>
      <name>Rob Winch</name>
    </author>
    <id>tag:spring.io,2015-03-26:2044</id>
    <updated>2015-03-26T08:28:00Z</updated>
    <content type="html">&lt;p&gt;I&amp;rsquo;m pleased to announce the release of Spring Security 3.2.7.RELEASE. This release brings a number of &lt;a href="https://jira.spring.io/issues/?jql=project%20%3D%20SEC%20AND%20fixVersion%20%3D%203.2.7"&gt;bug fixes&lt;/a&gt; including a fix for a regression in the Active Directory support.&lt;/p&gt;&lt;p&gt;&lt;a href="http://projects.spring.io/spring-security/"&gt;Project Site&lt;/a&gt; | &lt;a href="http://docs.spring.io/spring-security/site/docs/3.2.7.RELEASE/reference/htmlsingle/"&gt;Reference&lt;/a&gt; | &lt;a href="http://docs.spring.io/spring-security/site/docs/3.2.7.RELEASE/guides/"&gt;Guides&lt;/a&gt; | &lt;a href="https://jira.spring.io/issues/?jql=project%20%3D%20SEC%20AND%20fixVersion%20%3D%203.2.7"&gt;Issues&lt;/a&gt;&lt;/p&gt;</content>
  </entry>
  <entry>
    <title>Spring Integration Kafka Support 1.1.GA is available</title>
    <link rel="alternate" href="https://spring.io/blog/2015/03/26/spring-integration-kafka-support-1-1-ga-is-available" />
    <category term="releases" label="Releases" />
    <author>
      <name>Artem Bilan</name>
    </author>
    <id>tag:spring.io,2015-03-23:2033</id>
    <updated>2015-03-26T01:00:00Z</updated>
    <content type="html">&lt;p&gt;Dear Spring community,&lt;/p&gt;&lt;p&gt;We are pleased to announce that the Spring Integration Kafka Support 1.1 GA is now available.&lt;br/&gt;Use the &lt;a href="http://repo.springsource.org/release"&gt;Release Repository&lt;/a&gt; with Maven or Gradle&lt;br/&gt;&lt;code&gt;&#xD;
compile &amp;quot;org.springframework.integration:spring-integration-kafka:1.1.1.RELEASE&amp;quot;&#xD;
&lt;/code&gt;&lt;br/&gt;or download a &lt;a href="http://repo.spring.io/release/org/springframework/integration/spring-integration-kafka/1.1.1.RELEASE"&gt;distribution archive&lt;/a&gt;, to give it a spin.&lt;/p&gt;&lt;h2&gt;&lt;a href="#overview" class="anchor" name="overview"&gt;&lt;/a&gt;Overview&lt;/h2&gt;&lt;p&gt;The main reason of such a quick next point release just after &lt;a href="https://spring.io/blog/2015/02/09/spring-integration-kafka-extension-1-0-ga-is-available"&gt;1.0 GA&lt;/a&gt; is to address a number of critical &lt;a href="https://jira.spring.io/secure/ReleaseNote.jspa?projectId=11101&amp;version=14931"&gt;fixes&lt;/a&gt; for the upcoming &lt;a href="http://projects.spring.io/spring-xd/"&gt;Spring XD&lt;/a&gt; &lt;code&gt;1.1.1&lt;/code&gt; and &lt;code&gt;1.2&lt;/code&gt; releases. In addition, this release provides performance improvements around message generation streaming scenarios, which required an upgrade to &lt;a href="http://projects.spring.io/spring-integration/"&gt;Spring Integration&lt;/a&gt; &lt;code&gt;4.1&lt;/code&gt;, which is the minimum for Spring XD also.&lt;/p&gt;&lt;p&gt;One more important feature, which has been introduced with this release, is &lt;em&gt;manual acknowledgment&lt;/em&gt;, where a message&amp;rsquo;s &lt;code&gt;offset&lt;/code&gt; can be committed later on demand.&lt;br/&gt;For this purpose, Spring Integration Kafka introduces the &lt;code&gt;Acknowledgment&lt;/code&gt; interface. When &lt;code&gt;KafkaMessageDrivenChannelAdapter#autoCommitOffset&lt;/code&gt; is set to &lt;code&gt;false&lt;/code&gt;, a &lt;code&gt;KafkaHeaders.ACKNOWLEDGMENT&lt;/code&gt; header is added to the message, containing an &lt;code&gt;Acknowledgment&lt;/code&gt; object. Having that message header you always can decide to &lt;code&gt;acknowledge()&lt;/code&gt; the Kafka message or not in the downstream flow.&lt;/p&gt;&lt;p&gt;If you are using &lt;code&gt;KafkaMessageListenerContainer&lt;/code&gt; directly, you can now register an &lt;code&gt;AcknowledgingMessageListener&lt;/code&gt;:&lt;/p&gt;
&lt;pre&gt;&lt;code class="prettyprint"&gt;public interface AcknowledgingMessageListener {&#xD;
	void onMessage(KafkaMessage message, Acknowledgment acknowledgment);&#xD;
}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;When doing so, automatic offset updates are disabled, and you can use the &lt;code&gt;acknowledge()&lt;/code&gt; method of the &lt;code&gt;Acknowledgment&lt;/code&gt; argument to trigger an offset update.&lt;/p&gt;&lt;h2&gt;&lt;a href="#what-next" class="anchor" name="what-next"&gt;&lt;/a&gt;What next?&lt;/h2&gt;&lt;p&gt;Our plans are to work on &lt;code&gt;1.2&lt;/code&gt; release. It will be a critical upgrade to &lt;a href="http://kafka.apache.org/downloads.html"&gt;Kafka 0.8.2&lt;/a&gt;, possibly non-backwards compatible. Plus we are going to expose more configurable options for retry support within Kafka Adapters. And much more!&lt;/p&gt;&lt;p&gt;&lt;a href="https://github.com/spring-projects/spring-integration-kafka"&gt;Project Page&lt;/a&gt; | &lt;a href="https://jira.spring.io/browse/INTEXT"&gt;JIRA&lt;/a&gt; | &lt;a href="https://github.com/spring-projects/spring-integration-kafka/issues"&gt;Issues&lt;/a&gt; | &lt;a href="https://github.com/spring-projects/spring-integration/blob/master/CONTRIBUTING.md"&gt;Contributions&lt;/a&gt; | &lt;a href="http://stackoverflow.com"&gt;StackOverflow&lt;/a&gt; (&lt;code&gt;spring-integration&lt;/code&gt; tag)&lt;/p&gt;</content>
  </entry>
  <entry>
    <title>Spring Framework 4.1.6 released</title>
    <link rel="alternate" href="https://spring.io/blog/2015/03/25/spring-framework-4-1-6-released" />
    <category term="releases" label="Releases" />
    <author>
      <name>Juergen Hoeller</name>
    </author>
    <id>tag:spring.io,2015-03-25:2039</id>
    <updated>2015-03-25T18:44:30Z</updated>
    <content type="html">&lt;p&gt;Dear Spring community,&lt;/p&gt;&lt;p&gt;It’s my pleasure to announce that Spring Framework 4.1.6 is available now. This is almost exclusively a bugfix release and therefore a strongly recommended upgrade for all current 4.x users. In particular, we recommend an upgrade from the superseded 4.0.x line as well.&lt;/p&gt;&lt;p&gt;&lt;a href="https://jira.spring.io/secure/ReleaseNote.jspa?projectId=10000&amp;version=14863"&gt;Release Notes&lt;/a&gt; | &lt;a href="http://projects.spring.io/spring-framework/"&gt;Project Page&lt;/a&gt; | &lt;a href="https://github.com/spring-projects/spring-framework"&gt;GitHub&lt;/a&gt; | &lt;a href="https://jira.spring.io/browse/SPR"&gt;Issues&lt;/a&gt; | &lt;a href="https://docs.spring.io/spring-framework/docs/current/spring-framework-reference/htmlsingle/"&gt;Documentation&lt;/a&gt;&lt;/p&gt;&lt;p&gt;Spring Framework 4.1.6 is also the first release to be formally compatible with the recently released JDK 8 update 40. Spring 4.1.x supports a wide range of Java runtimes now, from 2010-era JDK 6 variants up until the latest 2015-era JDK 8 offerings from Oracle and IBM.&lt;/p&gt;&lt;p&gt;On a related note, for Spring Framework 4.2, we&amp;rsquo;re even testing on early JDK 9 builds already. If you&amp;rsquo;re interested in how we go about supporting different JDK generations in one and the same Spring Framework generation, stay tuned for our upcoming blog post&amp;hellip;&lt;/p&gt;&lt;p&gt;Cheers,&lt;/p&gt;&lt;p&gt;Juergen&lt;/p&gt;</content>
  </entry>
  <entry>
    <title>This Week in Spring - March 24th, 2015</title>
    <link rel="alternate" href="https://spring.io/blog/2015/03/24/this-week-in-spring-march-24th-2015" />
    <category term="engineering" label="Engineering" />
    <author>
      <name>Josh Long</name>
    </author>
    <id>tag:spring.io,2015-03-24:2038</id>
    <updated>2015-03-24T22:05:00Z</updated>
    <content type="html">&lt;p&gt;Welcome to another installment of &lt;em&gt;This Week in Spring&lt;/em&gt;! This week, I&amp;rsquo;m in São Paulo, Brazil, where I presented a workshop on building cloud-native applications - specifically microservices - with &lt;a href="http://start.spring.io"&gt;Spring Boot&lt;/a&gt;, &lt;a href="http://cloud.spring.io"&gt;Spring Cloud&lt;/a&gt; and &lt;a href="http://cloudfoundry.org"&gt;Cloud Foundry&lt;/a&gt; (via &lt;a href="http://run.pivotal.io"&gt;Pivotal Web Services&lt;/a&gt;). &lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;Spring Data lead Oliver Gierke has just announced Spring Data Fowler has gone GA, &lt;a href="http://spring.io/blog/2015/03/23/spring-data-release-train-fowler-goes-ga"&gt;packed with lots of advanced Java 8 features, as well&lt;/a&gt;!&lt;/li&gt;
  &lt;li&gt;The agenda for the &lt;a href="http://www.springio.net/agenda/"&gt;Spring IO show in Barcelona, Spain is now available&lt;/a&gt;! Check it out!&lt;/li&gt;
  &lt;li&gt;Done with the microservices hype? Then let&amp;rsquo;s get practical &lt;a href="https://spring.io/blog/2015/03/17/webinar-smarter-service-to-service-invocations-with-spring-cloud"&gt;on April 21st&lt;/a&gt;. I&amp;rsquo;ll be talking about how Spring Cloud integrates service registration (e.g.: Eureka, Consul, or Zookeeper), declarative REST clients (with Netflix&amp;rsquo;s Feign), reactive programming and the circuit breaker pattern with Hystrix to support easy, robust service-to-service invocations.&lt;/li&gt;
  &lt;li&gt;Marius Bogoevici and Mark Pollack are teaming up for a webinar on Tues April 28th about &lt;a href="https://spring.io/blog/2015/03/17/webinar-reactive-data-pipelines-with-spring-xd-and-kafka"&gt;Reactive data-pipelines with Spring XD and Kafka&lt;/a&gt;, a must for any big / fast data enthusiasts.&lt;/li&gt;
  &lt;li&gt;Colin Harrington&amp;rsquo;s SpringOne2GX 2014 Replay is now available: &lt;a href="https://spring.io/blog/2015/03/24/springone2gx-2014-replay-groovy-browser-automation"&gt;Groovy Browser Automation&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;Peter Ledbrook&amp;rsquo;s SpringOne2GX 2014 Replay is now available: &lt;a href="https://spring.io/blog/2015/03/24/springone2gx-2014-replay-groovy-for-java-developers"&gt;Groovy for Java Developers&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;Likely the coolest demo of SpringOne2GX 2014, brought to you by the dream team of Pivotal Ninjas Derek Beauregard, Phil Berman, Michael Minella, Darrel Sharpe&lt;br/&gt;is now available: &lt;a href="https://spring.io/blog/2015/03/24/springone2gx-2014-replay-iot-realized-the-connected-car"&gt;IoT Realized - The Connected Car&lt;/a&gt; showing you just how powerful Spring XD truly is for Big Data and IoT.&lt;/li&gt;
  &lt;li&gt;Frustrated with Java serialization performance? Are you a Spring Integration peformance fanatic? Or perhaps you&amp;rsquo;re just trying to shave milliseconds and microseconds off your Java network calls? You won&amp;rsquo;t want to miss John Davies from C24 as he shows you how to reclaim performance with Java serialzation in this mind blowing SpringOne2GX 2014 Replay: &lt;a href="https://spring.io/blog/2015/03/24/springone2gx-2014-replay-big-data-in-memory"&gt;Big Data in Memory&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;The good Dr. Syer is back at it again with a followup to his epic blog series introducing single page applications &lt;a href="http://spring.io/blog/2015/03/23/multiple-ui-applications-and-a-gateway-single-page-application-with-spring-and-angular-js-part-vi"&gt;using Spring Security OAuth, Spring Cloud Zuul, and more&lt;/a&gt;.&lt;/li&gt;
  &lt;li&gt;I put together a look at &lt;a href="http://spring.io/blog/2015/03/22/using-google-protocol-buffers-with-spring-mvc-based-rest-services"&gt;using Google Protocol Buffers to build efficient Spring-based REST services&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;Spring Tool Suite ninja Kris De Volder put together a great tutorial introducing some of the new features in &lt;a href="http://spring.io/blog/2015/03/18/spring-boot-support-in-spring-tool-suite-3-6-4"&gt;STS 3.6.4 that support building Spring Boot applications&lt;/a&gt;. Check it out!&lt;/li&gt;
  &lt;li&gt;I&amp;rsquo;ll be doing another vJUG session, this time on &lt;a href="http://www.meetup.com/virtualJUG/events/221218834/"&gt;using Spring Cloud to build &amp;ldquo;Bootiful&amp;rdquo; Microservices&lt;/a&gt; - I hope you&amp;rsquo;ll join me there! Let&amp;rsquo;s make this a super well attended event!&lt;/li&gt;
  &lt;li&gt;This post on &lt;a href="https://ngjweb.wordpress.com/2015/03/23/securing-gwt-apps-using-spring-oauth-spring-social/"&gt;using Spring Social and Spring Security to secure GWT applications is kind of interesting&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;Hey, did you miss Adrian Cockroft&amp;rsquo;s talk at O&amp;rsquo;Reilly&amp;rsquo;s Software Architecture Summit? Check out this &lt;a href="http://java.dzone.com/articles/key-takeaways-adrian-cockrofts"&gt;blog summarizing the key takeaways&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;I enjoyed the ideas raised in this blog post on &lt;a href="http://java.dzone.com/articles/microservice-hybrids-and"&gt;possible variants of microservices&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;and, a &lt;em&gt;super&lt;/em&gt; simple example of using &lt;a href="https://gerrydevstory.com/2015/03/19/setting-up-spring-security-on-spring-boot-project/"&gt;Spring Security with Spring Boot&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content>
  </entry>
  <entry>
    <title>SpringOne2GX 2014 Replay: Groovy Browser Automation</title>
    <link rel="alternate" href="https://spring.io/blog/2015/03/24/springone2gx-2014-replay-groovy-browser-automation" />
    <category term="news" label="News and Events" />
    <author>
      <name>Pieter Humphrey</name>
    </author>
    <id>tag:spring.io,2015-03-24:2037</id>
    <updated>2015-03-24T20:49:00Z</updated>
    <content type="html">&lt;p&gt;Recorded at SpringOne2GX 2014.&lt;/p&gt;
&lt;p&gt;Speaker: Colin Harrington&lt;/p&gt;
&lt;p&gt;Core Groovy Track&lt;/p&gt;
&lt;p&gt;Slides: &lt;a href="http://www.slideshare.net/SpringCentral/groovybrowserautomation-2gx2014"&gt;http://www.slideshare.net/SpringCentral/groovybrowserautomation-2gx2014 &lt;/a&gt;&lt;/p&gt;
&lt;p&gt;GEB (pronounced 'jeb') is a browser automation solution. It brings together the power of WebDriver, the elegance of jQuery content selection, the robustness of Page Object modelling and the expressiveness of the Groovy language.&lt;/p&gt;
&lt;p&gt;&#xD;
  &lt;iframe width="560" height="315" src="https://www.youtube.com/embed/ucGuzy0sNuY" frameborder="0" allowfullscreen&gt;&lt;/iframe&gt;&#xD;
&lt;/p&gt;</content>
  </entry>
  <entry>
    <title>SpringOne2GX 2014 Replay: Groovy for Java Developers</title>
    <link rel="alternate" href="https://spring.io/blog/2015/03/24/springone2gx-2014-replay-groovy-for-java-developers" />
    <category term="news" label="News and Events" />
    <author>
      <name>Pieter Humphrey</name>
    </author>
    <id>tag:spring.io,2015-03-24:2036</id>
    <updated>2015-03-24T20:43:00Z</updated>
    <content type="html">&lt;p&gt;Recorded at SpringOne2GX 2014.&lt;/p&gt;
&lt;p&gt;Speaker: Peter Ledbrook &lt;/p&gt;
&lt;p&gt;Core Groovy Track &lt;/p&gt;
&lt;p&gt;Slides: &lt;a href="http://www.slideshare.net/SpringCentral/groovy-forjavadeveloperss2gx2014"&gt;http://www.slideshare.net/SpringCentral/groovy-forjavadeveloperss2gx2014&lt;/a&gt;&lt;/p&gt;
&lt;p&gt; Java is a good all-purpose programming language, but does that mean it's the best tool for all jobs?&lt;a href="http://projects.spring.io/spring-batch"&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&#xD;
  &lt;iframe width="560" height="315" src="https://www.youtube.com/embed/BXRDTiJfrSE" frameborder="0" allowfullscreen&gt;&lt;/iframe&gt;&#xD;
&lt;/p&gt;</content>
  </entry>
  <entry>
    <title>SpringOne2GX 2014 Replay: IoT Realized - The Connected Car</title>
    <link rel="alternate" href="https://spring.io/blog/2015/03/24/springone2gx-2014-replay-iot-realized-the-connected-car" />
    <category term="news" label="News and Events" />
    <author>
      <name>Pieter Humphrey</name>
    </author>
    <id>tag:spring.io,2015-03-24:2035</id>
    <updated>2015-03-24T20:39:00Z</updated>
    <content type="html">&lt;p&gt;Recorded at SpringOne2GX 2014. &lt;/p&gt;
&lt;p&gt;Speakers: Derek Beauregard, Phil Berman, Michael Minella, Darrel Sharpe &lt;/p&gt;
&lt;p&gt;Big Data Track Slides: &lt;a href="http://www.slideshare.net/SpringCentral/iot-realized-the-connected-car"&gt;http://www.slideshare.net/SpringCentral/iot-realized-the-connected-car &lt;/a&gt;&lt;/p&gt;
&lt;p&gt;For this session we will explore the power of Spring XD in the context of the Internet of Things (IoT). We will look at a solution developed with Spring XD to stream real time analytics from a moving car using open standards. Ingestion of the real time data (location, speed, engine diagnostics, etc), analyzing it to provide highly accurate MPG and vehicle range prediction, as well as providing real time dashboards will all be covered. Coming out of this session, you’ll understand how Spring XD can serve as “Legos®” for the IoT.&lt;/p&gt;
&lt;p&gt;Learn more about Spring XD: &lt;a href="http://projects.spring.io/spring-xd"&gt;http://projects.spring.io/spring-xd&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Learn more about Spring Integration: &lt;a href="http://projects.spring.io/spring-integration"&gt;http://projects.spring.io/spring-integration&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Learn more about Spring Batch: &lt;a href="http://projects.spring.io/spring-batch"&gt;http://projects.spring.io/spring-batch&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&#xD;
  &lt;iframe width="560" height="315" src="https://www.youtube.com/embed/cejQ46IQpUI" frameborder="0" allowfullscreen&gt;&lt;/iframe&gt;&#xD;
&lt;/p&gt;</content>
  </entry>
  <entry>
    <title>SpringOne2GX 2014 Replay: Big Data in Memory</title>
    <link rel="alternate" href="https://spring.io/blog/2015/03/24/springone2gx-2014-replay-big-data-in-memory" />
    <category term="news" label="News and Events" />
    <author>
      <name>Pieter Humphrey</name>
    </author>
    <id>tag:spring.io,2015-03-24:2034</id>
    <updated>2015-03-24T20:35:00Z</updated>
    <content type="html">&lt;p&gt;Recorded at SpringOne2GX 2014. Big Data in Memory&lt;/p&gt;
&lt;p&gt; Speaker: John Davies, C24&lt;/p&gt;
&lt;p&gt; Big Data Track &lt;/p&gt;
&lt;p&gt;Slides: &lt;a href="http://www.slideshare.net/SpringCentral/spring-one2gx-2014-john-davies-41130273"&gt;http://www.slideshare.net/SpringCentral/spring-one2gx-2014-john-davies-41130273&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;OK so everyone’s into big data but they’re usually talking about persistence, disk or more recently SSD, how about memory? We could simply add a few terabytes of RAM but even at $100 per GB that’s going to cost a LOT. What if we could reduce the size of the data by 50 fold and effectively bring the cost RAM down towards cost of disk? Keep Spring Integration, Spring Batch, GemFire in-memory cache, RabbitMQ messaging but reduce your data down to binary, yes bits and bytes rather than objects. Less garbage, less network overhead, same APIs but big-data in memory. John will show a Spring work-flow consuming 7.4kB XML messages, binding them to 25kB Java but storing them in just 450 bytes each, 10 million derivative contracts in-memory on a laptop.&lt;/p&gt;
&lt;p&gt;Learn more about Spring XD: &lt;a href="http://projects.spring.io/spring-xd"&gt;http://projects.spring.io/spring-xd&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Learn more about Spring Integration: &lt;a href="http://projects.spring.io/spring-integration"&gt;http://projects.spring.io/spring-integration&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Learn more about Spring Batch: &lt;a href="http://projects.spring.io/spring-batch"&gt;http://projects.spring.io/spring-batch&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&#xD;
  &lt;iframe width="560" height="315" src="https://www.youtube.com/embed/fcpeXNxaLoc" frameborder="0" allowfullscreen&gt;&lt;/iframe&gt;&#xD;
&lt;/p&gt;</content>
  </entry>
  <entry>
    <title>Spring Data Release Train Fowler Goes GA</title>
    <link rel="alternate" href="https://spring.io/blog/2015/03/23/spring-data-release-train-fowler-goes-ga" />
    <category term="releases" label="Releases" />
    <author>
      <name>Oliver Gierke</name>
    </author>
    <id>tag:spring.io,2015-03-23:2032</id>
    <updated>2015-03-23T15:01:25Z</updated>
    <content type="html">&lt;p&gt;On behalf of the Spring Data team I&amp;rsquo;d like to announce the availability of the GA version of Spring Data release train &lt;a href="https://github.com/spring-projects/spring-data-commons/wiki/Release-Train-Fowler"&gt;Fowler&lt;/a&gt;.The release ships almost 400 tickets solved. &lt;/p&gt;&lt;p&gt;The most core theme of the train is advanced support for Java 8: the MongoDB and JPA modules now support &lt;code&gt;Stream&lt;/code&gt;s as return type for repository methods and we now support non-time-zoned JDK 8 date/time types our of the box and also integrate with the Java 7 back-port of that API.&lt;/p&gt;&lt;p&gt;Spring Data MongoDB ships with compatibility for the 3.0 version of the server and the corresponding driver version. Spring Data Gemfire now supports Gemfire 8.0. The object-to-store mapping has seen some extensive performance improvements so that e.g. the MongoDB should see a decent increase in operations per second.&lt;/p&gt;&lt;p&gt;A curated change log can be found &lt;a href="https://github.com/spring-projects/spring-data-commons/wiki/Release-Train-Fowler"&gt;here&lt;/a&gt;, the full list of fixed ticket is available in &lt;a href="https://jira.spring.io/issues/?filter=14946"&gt;our JIRA&lt;/a&gt;. We are currently preparing a blog post to cover the new features in greater detail. The next release train is going to be named after the father of Java, &lt;a href="http://en.wikipedia.org/wiki/James_Gosling"&gt;James Gosling&lt;/a&gt;.&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;Spring Data Commons 1.10 GA - &lt;a href="https://repo.spring.io/libs-release/org/springframework/data/spring-data-commons/1.10.0.RELEASE"&gt;Artifacts&lt;/a&gt; - &lt;a href="http://docs.spring.io/spring-data/commons/docs/1.10.0.RELEASE/api"&gt;JavaDocs&lt;/a&gt; - &lt;a href="http://docs.spring.io/spring-data/commons/docs/1.10.0.RELEASE/reference/html"&gt;Documentation&lt;/a&gt; - &lt;a href="http://docs.spring.io/spring-data/commons/docs/1.10.0.RELEASE/changelog.txt"&gt;Changelog&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;Spring Data JPA 1.8 GA - &lt;a href="https://repo.spring.io/libs-release/org/springframework/data/spring-data-jpa/1.8.0.RELEASE"&gt;Artifacts&lt;/a&gt; - &lt;a href="http://docs.spring.io/spring-data/jpa/docs/1.8.0.RELEASE/api"&gt;JavaDocs&lt;/a&gt; - &lt;a href="http://docs.spring.io/spring-data/jpa/docs/1.8.0.RELEASE/reference/html"&gt;Documentation&lt;/a&gt; - &lt;a href="http://docs.spring.io/spring-data/jpa/docs/1.8.0.RELEASE/changelog.txt"&gt;Changelog&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;Spring Data MongoDB 1.7 GA - &lt;a href="https://repo.spring.io/libs-release/org/springframework/data/spring-data-mongodb/1.7.0.RELEASE"&gt;Artifacts&lt;/a&gt; - &lt;a href="http://docs.spring.io/spring-data/mongodb/docs/1.7.0.RELEASE/api"&gt;JavaDocs&lt;/a&gt; - &lt;a href="http://docs.spring.io/spring-data/mongodb/docs/1.7.0.RELEASE/reference/html"&gt;Documentation&lt;/a&gt; - &lt;a href="http://docs.spring.io/spring-data/mongodb/docs/1.7.0.RELEASE/changelog.txt"&gt;Changelog&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;Spring Data Neo4j 3.3 GA - &lt;a href="https://repo.spring.io/libs-release/org/springframework/data/spring-data-neo4j/3.3.0.RELEASE"&gt;Artifacts&lt;/a&gt; - &lt;a href="http://docs.spring.io/spring-data/neo4j/docs/3.3.0.RELEASE/api"&gt;JavaDocs&lt;/a&gt; - &lt;a href="http://docs.spring.io/spring-data/neo4j/docs/3.3.0.RELEASE/reference/html"&gt;Documentation&lt;/a&gt; - &lt;a href="http://docs.spring.io/spring-data/neo4j/docs/3.3.0.RELEASE/changelog.txt"&gt;Changelog&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;Spring Data Solr 1.4 GA - &lt;a href="https://repo.spring.io/libs-release/org/springframework/data/spring-data-solr/1.4.0.RELEASE"&gt;Artifacts&lt;/a&gt; - &lt;a href="http://docs.spring.io/spring-data/solr/docs/1.4.0.RELEASE/api"&gt;JavaDocs&lt;/a&gt; - &lt;a href="http://docs.spring.io/spring-data/solr/docs/1.4.0.RELEASE/reference/html"&gt;Documentation&lt;/a&gt; - &lt;a href="http://docs.spring.io/spring-data/solr/docs/1.4.0.RELEASE/changelog.txt"&gt;Changelog&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;Spring Data Couchbase 1.3 GA - &lt;a href="https://repo.spring.io/libs-release/org/springframework/data/spring-data-couchbase/1.3.0.RELEASE"&gt;Artifacts&lt;/a&gt; - &lt;a href="http://docs.spring.io/spring-data/couchbase/docs/1.3.0.RELEASE/api"&gt;JavaDocs&lt;/a&gt; - &lt;a href="http://docs.spring.io/spring-data/couchbase/docs/1.3.0.RELEASE/reference/html"&gt;Documentation&lt;/a&gt; - &lt;a href="http://docs.spring.io/spring-data/couchbase/docs/1.3.0.RELEASE/changelog.txt"&gt;Changelog&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;Spring Data Cassandra 1.2 GA - &lt;a href="https://repo.spring.io/libs-release/org/springframework/data/spring-data-cassandra/1.2.0.RELEASE"&gt;Artifacts&lt;/a&gt; - &lt;a href="http://docs.spring.io/spring-data/cassandra/docs/1.2.0.RELEASE/api"&gt;JavaDocs&lt;/a&gt; - &lt;a href="http://docs.spring.io/spring-data/cassandra/docs/1.2.0.RELEASE/reference/html"&gt;Documentation&lt;/a&gt; - &lt;a href="http://docs.spring.io/spring-data/cassandra/docs/1.2.0.RELEASE/changelog.txt"&gt;Changelog&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;Spring Data Elasticsearch 1.2 GA - &lt;a href="https://repo.spring.io/libs-release/org/springframework/data/spring-data-elasticsearch/1.2.0.RELEASE"&gt;Artifacts&lt;/a&gt; - &lt;a href="http://docs.spring.io/spring-data/elasticsearch/docs/1.2.0.RELEASE/api"&gt;JavaDocs&lt;/a&gt; - &lt;a href="http://docs.spring.io/spring-data/elasticsearch/docs/1.2.0.RELEASE/reference/html"&gt;Documentation&lt;/a&gt; - &lt;a href="http://docs.spring.io/spring-data/elasticsearch/docs/1.2.0.RELEASE/changelog.txt"&gt;Changelog&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;Spring Data Gemfire 1.6 GA - &lt;a href="https://repo.spring.io/libs-release/org/springframework/data/spring-data-gemfire/1.6.0.RELEASE"&gt;Artifacts&lt;/a&gt; - &lt;a href="http://docs.spring.io/spring-data/gemfire/docs/1.6.0.RELEASE/api"&gt;JavaDocs&lt;/a&gt; - &lt;a href="http://docs.spring.io/spring-data/gemfire/docs/1.6.0.RELEASE/reference/html"&gt;Documentation&lt;/a&gt; - &lt;a href="http://docs.spring.io/spring-data/gemfire/docs/1.6.0.RELEASE/changelog.txt"&gt;Changelog&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;Spring Data Redis 1.5 GA - &lt;a href="https://repo.spring.io/libs-release/org/springframework/data/spring-data-redis/1.5.0.RELEASE"&gt;Artifacts&lt;/a&gt; - &lt;a href="http://docs.spring.io/spring-data/redis/docs/1.5.0.RELEASE/api"&gt;JavaDocs&lt;/a&gt; - &lt;a href="http://docs.spring.io/spring-data/redis/docs/1.5.0.RELEASE/reference/html"&gt;Documentation&lt;/a&gt; - &lt;a href="http://docs.spring.io/spring-data/redis/docs/1.5.0.RELEASE/changelog.txt"&gt;Changelog&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;Spring Data REST 2.3 GA - &lt;a href="https://repo.spring.io/libs-release/org/springframework/data/spring-data-rest-webmvc/2.3.0.RELEASE"&gt;Artifacts&lt;/a&gt; - &lt;a href="http://docs.spring.io/spring-data/rest/docs/2.3.0.RELEASE/api"&gt;JavaDocs&lt;/a&gt; - &lt;a href="http://docs.spring.io/spring-data/rest/docs/2.3.0.RELEASE/reference/html"&gt;Documentation&lt;/a&gt; - &lt;a href="http://docs.spring.io/spring-data/rest/docs/2.3.0.RELEASE/changelog.txt"&gt;Changelog&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content>
  </entry>
  <entry>
    <title>Multiple UI Applications and a Gateway: Single Page Application with Spring and Angular JS Part VI</title>
    <link rel="alternate" href="https://spring.io/blog/2015/03/23/multiple-ui-applications-and-a-gateway-single-page-application-with-spring-and-angular-js-part-vi" />
    <category term="engineering" label="Engineering" />
    <author>
      <name>Dave Syer</name>
    </author>
    <id>tag:spring.io,2015-03-09:2011</id>
    <updated>2015-03-23T14:50:00Z</updated>
    <content type="html">&lt;p&gt;In this article we continue &lt;a href="https://spring.io/blog/2015/02/03/sso-with-oauth2-angular-js-and-spring-security-part-v" title="Fifth Article in the Series"&gt;our discussion&lt;/a&gt; of how to use &lt;a href="http://projects.spring.io/spring-security"&gt;Spring Security&lt;/a&gt; with &lt;a href="http://angularjs.org"&gt;Angular JS&lt;/a&gt; in a &amp;ldquo;single page application&amp;rdquo;. Here we show how to use &lt;a href="http://projects.spring.io/spring-security-oauth/"&gt;Spring Session&lt;/a&gt; together with &lt;a href="http://projects.spring.io/spring-cloud/"&gt;Spring Cloud&lt;/a&gt; to combine the features of the systems we built in parts II and IV, and actually end up building 3 single page applications with quite different responsibilities. The aim is to build a Gateway (like in &lt;a href="http://spring.io/blog/2015/01/28/the-api-gateway-pattern-angular-js-and-spring-security-part-iv" title="Fourth Article in the Series"&gt;part IV&lt;/a&gt;) that is used not only for API resources but also to load the UI from a backend server. We simplify the token-wrangling bits of &lt;a href="http://spring.io/blog/2015/01/12/the-login-page-angular-js-and-spring-security-part-ii" title="Second Article in the Series"&gt;part II&lt;/a&gt; by using the Gateway to pass through the authentication to the backends. Then we extend the system to show how we can make local, granular access decisions in the backends, while still controlling identity and authentication at the Gateway. This is a very powerful model for building distributed systems in general, and has a number of benefits that we can explore as we introduce the features in the code we build.&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;Reminder: if you are working through this article with the sample application, be sure to clear your browser cache of cookies and HTTP Basic credentials. In Chrome the best way to do that is to open a new incognito window.&lt;/p&gt;
&lt;/blockquote&gt;&lt;h2&gt;&lt;a href="#target-architecture" class="anchor" name="target-architecture"&gt;&lt;/a&gt;Target Architecture&lt;/h2&gt;&lt;p&gt;Here&amp;rsquo;s a picture of the basic system we are going to build to start with:&lt;/p&gt;&lt;p&gt;&lt;img src="https://raw.githubusercontent.com/dsyer/spring-security-angular/master/double/double-simple.png" alt="Components of the System""/&gt;&lt;/p&gt;&lt;p&gt;Like the other sample applications in this series it has a UI (HTML and JavaScript) and a Resource server. Like the sample in &lt;a href="http://spring.io/blog/2015/01/28/the-api-gateway-pattern-angular-js-and-spring-security-part-iv" title="Fourth Article in the Series"&gt;Part IV&lt;/a&gt; it has a Gateway, but here it is separate, not part of the UI. The UI effectively becomes part of the backend, giving us even more choice to re-configure and re-implement features, and also bringing other benefits as we will see.&lt;/p&gt;&lt;p&gt;The browser goes to the Gateway for everything and it doesn&amp;rsquo;t have to know about the architecture of the backend (fundamentally, it has no idea that there is a back end). One of the things the browser does in this Gateway is authentication, e.g. it sends a username and password like in &lt;a href="http://spring.io/blog/2015/01/12/the-login-page-angular-js-and-spring-security-part-ii" title="Second Article in the Series"&gt;Part II&lt;/a&gt;, and it gets a cookie in return. On subsequent requests it presents the cookie automatically and the Gateway passes it through to the backends. No code needs to be written on the client to enable the cookie passing. The backends use the cookie to authenticate and because all components share a session they share the same information about the user. Contrast this with &lt;a href="https://spring.io/blog/2015/02/03/sso-with-oauth2-angular-js-and-spring-security-part-v" title="Fifth Article in the Series"&gt;Part V&lt;/a&gt; where the cookie had to be converted to an access token in the Gateway, and the access token then had to be independently decoded by all the backend components.&lt;/p&gt;&lt;p&gt;As in &lt;a href="http://spring.io/blog/2015/01/28/the-api-gateway-pattern-angular-js-and-spring-security-part-iv" title="Fourth Article in the Series"&gt;Part IV&lt;/a&gt; the Gateway simplifies the interaction between clients and servers, and it presents a small, well-defined surface on which to deal with security. For example, we don&amp;rsquo;t need to worry about &lt;a href="http://en.wikipedia.org/wiki/Cross-origin_resource_sharing"&gt;Common Origin Resource Sharing&lt;/a&gt;, which is a welcome relief since it is easy to get wrong.&lt;/p&gt;&lt;p&gt;The source code for the complete project we are going to build is in &lt;a href="https://github.com/dsyer/spring-security-angular/tree/master/double"&gt;Github here&lt;/a&gt;, so you can just clone the project and work directly from there if you want. There is an extra component in the end state of this system (&amp;ldquo;double-admin&amp;rdquo;) so ignore that for now.&lt;/p&gt;&lt;h2&gt;&lt;a href="#building-the-backend" class="anchor" name="building-the-backend"&gt;&lt;/a&gt;Building the Backend&lt;/h2&gt;&lt;p&gt;In this architecture the backend is very similar to the &lt;a href="https://github.com/dsyer/spring-security-angular/tree/master/spring-session"&gt;&amp;ldquo;spring-session&amp;rdquo;&lt;/a&gt; sample we built in &lt;a href="http://spring.io/blog/2015/01/20/the-resource-server-angular-js-and-spring-security-part-iii" title="Third Article in the Series"&gt;Part III&lt;/a&gt;, with the exception that it doesn&amp;rsquo;t actually need a login page. The easiest way to get to what we want here is probably to copy the &amp;ldquo;resource&amp;rdquo; server from Part III and take the UI from the &lt;a href="https://github.com/dsyer/spring-security-angular/tree/master/basic"&gt;&amp;ldquo;basic&amp;rdquo;&lt;/a&gt; sample in &lt;a href="http://spring.io/blog/2015/01/12/spring-and-angular-js-a-secure-single-page-application" title="First Article in the Series"&gt;Part I&lt;/a&gt;. To get from the &amp;ldquo;basic&amp;rdquo; UI to the one we want here, we need only to add a couple of dependencies (like when we first used &lt;a href="https://github.com/spring-projects/spring-session/"&gt;Spring Session&lt;/a&gt; in Part III):&lt;/p&gt;
&lt;pre&gt;&lt;code class="prettyprint xml"&gt;&amp;lt;dependency&amp;gt;&#xD;
  &amp;lt;groupId&amp;gt;org.springframework.session&amp;lt;/groupId&amp;gt;&#xD;
  &amp;lt;artifactId&amp;gt;spring-session&amp;lt;/artifactId&amp;gt;&#xD;
  &amp;lt;version&amp;gt;1.0.0.RELEASE&amp;lt;/version&amp;gt;&#xD;
&amp;lt;/dependency&amp;gt;&#xD;
&amp;lt;dependency&amp;gt;&#xD;
  &amp;lt;groupId&amp;gt;org.springframework.boot&amp;lt;/groupId&amp;gt;&#xD;
  &amp;lt;artifactId&amp;gt;spring-boot-starter-redis&amp;lt;/artifactId&amp;gt;&#xD;
&amp;lt;/dependency&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;and add the &lt;code&gt;@EnableRedisHttpSession&lt;/code&gt; annotation to the main application class:&lt;/p&gt;
&lt;pre&gt;&lt;code class="prettyprint java"&gt;@SpringBootApplication&#xD;
@EnableRedisHttpSession&#xD;
public class UiApplication {&#xD;
&#xD;
public static void main(String[] args) {&#xD;
    SpringApplication.run(UiApplication.class, args);&#xD;
  }&#xD;
&#xD;
}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Since this is now a UI there is no need for the &amp;ldquo;/resource&amp;rdquo; endpoint. When you have done that you will have a very simple Angular application (the same as in the &amp;ldquo;basic&amp;rdquo; sample), which simplifies testing and reasoning about its behaviour greatly.&lt;/p&gt;&lt;p&gt;Lastly, we want this server to run as a backend, so we&amp;rsquo;ll give it a non-default port to listen on (in &lt;code&gt;application.properties&lt;/code&gt;):&lt;/p&gt;
&lt;pre&gt;&lt;code class="prettyprint properties"&gt;server.port: 8081&#xD;
security.sessions: NEVER
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;If that&amp;rsquo;s the &lt;em&gt;whole&lt;/em&gt; content &lt;code&gt;application.properties&lt;/code&gt; then the application will be secure and accessible to a user called &amp;ldquo;user&amp;rdquo; with a password that is random, but printed on the console (at log level INFO) on startup. The &amp;ldquo;security.sessions&amp;rdquo; setting means that Spring Security will accept cookies as authentication tokens but won&amp;rsquo;t create them unless they already exist.&lt;/p&gt;&lt;h2&gt;&lt;a href="#the-resource-server" class="anchor" name="the-resource-server"&gt;&lt;/a&gt;The Resource Server&lt;/h2&gt;&lt;p&gt;The Resource server is easy to generate from one of our existing samples. It is the same as the &amp;ldquo;spring-session&amp;rdquo; Resource server in &lt;a href="http://spring.io/blog/2015/01/20/the-resource-server-angular-js-and-spring-security-part-iii" title="Third Article in the Series"&gt;Part III&lt;/a&gt;: just a &amp;ldquo;/resource&amp;rdquo; endpoint and &lt;code&gt;@EnableRedisHttpSession&lt;/code&gt; to get the distributed session data. We want this server to have a non-default port to listen on, and we want to be able to look up authentication in the session so we need this (in &lt;code&gt;application.properties&lt;/code&gt;):&lt;/p&gt;
&lt;pre&gt;&lt;code class="prettyprint properties"&gt;server.port: 9000&#xD;
security.sessions: NEVER
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;The completed sample is &lt;a href="https://github.com/dsyer/spring-security-angular/tree/master/double/resource"&gt;here in github&lt;/a&gt; if you want to take a peek.&lt;/p&gt;&lt;h2&gt;&lt;a href="#the-gateway" class="anchor" name="the-gateway"&gt;&lt;/a&gt;The Gateway&lt;/h2&gt;&lt;p&gt;For an initial implementation of a Gateway (the simplest thing that could possibly work) we can just take an empty Spring Boot web application and add the &lt;code&gt;@EnableZuulProxy&lt;/code&gt; annotation. As we saw in &lt;a href="http://spring.io/blog/2015/01/12/spring-and-angular-js-a-secure-single-page-application" title="First Article in the Series"&gt;Part I&lt;/a&gt; there are several ways to do that, and one is to use the &lt;a href="http://start.spring.io"&gt;Spring Initializr&lt;/a&gt; to generate a skeleton project. Even easier, is to use the &lt;a href="http://cloud-start.spring.io"&gt;Spring Cloud Initializr&lt;/a&gt; which is the same thing, but for &lt;a href="http://cloud.spring.io"&gt;Spring Cloud&lt;/a&gt; applications. Using the same sequence of command line operations as in Part I:&lt;/p&gt;
&lt;pre&gt;&lt;code class="prettyprint"&gt;$ mkdir gateway &amp;amp;&amp;amp; cd gateway&#xD;
$ curl https://cloud-start.spring.io/starter.tgz -d style=web \&#xD;
  -d style=security -d style=cloud-zuul -d name=gateway \&#xD;
  -d style=redis | tar -xzvf - 
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;You can then import that project (it&amp;rsquo;s a normal Maven Java project by default) into your favourite IDE, or just work with the files and &amp;ldquo;mvn&amp;rdquo; on the command line. There is a version &lt;a href="https://github.com/dsyer/spring-security-angular/tree/master/double/gateway"&gt;in github&lt;/a&gt; if you want to go from there, but it has a few extra features that we don&amp;rsquo;t need yet.&lt;/p&gt;&lt;p&gt;Starting from the blank Initializr application, we add the Spring Session dependency (like in the UI above), and the &lt;code&gt;@EnableRedisHttpSession&lt;/code&gt; annotation:&lt;/p&gt;
&lt;pre&gt;&lt;code class="prettyprint java"&gt;@SpringBootApplication&#xD;
@EnableRedisHttpSession&#xD;
@EnableZuulProxy&#xD;
public class GatewayApplication {&#xD;
&#xD;
public static void main(String[] args) {&#xD;
    SpringApplication.run(GatewayApplication.class, args);&#xD;
  }&#xD;
&#xD;
}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;The Gateway is ready to run, but it doesn&amp;rsquo;t yet know about our backend services, so let&amp;rsquo;s just set that up in its &lt;code&gt;application.yml&lt;/code&gt; (renaming from &lt;code&gt;application.properties&lt;/code&gt; if you did the curl thing above):&lt;/p&gt;
&lt;pre&gt;&lt;code class="prettyprint"&gt;zuul:&#xD;
  routes:&#xD;
    ui:&#xD;
      url: http://localhost:8081&#xD;
    resource:&#xD;
      url: http://locahost:9000&#xD;
security:&#xD;
  user:&#xD;
    password:&#xD;
      password&#xD;
  sessions: ALWAYS
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;There are 2 routes in the proxy, one each for the UI and resource server, and we have set up a default password and a session persistence strategy (telling Spring Security to always create a session on authentication). This last bit is important because we want authentication and therefore sessions to be managed in the Gateway.&lt;/p&gt;&lt;h2&gt;&lt;a href="#up-and-running" class="anchor" name="up-and-running"&gt;&lt;/a&gt;Up and Running&lt;/h2&gt;&lt;p&gt;We now have three components, running on 3 ports. If you point the browser at &lt;a href="http://localhost:8080/ui/"&gt;http://localhost:8080/ui/&lt;/a&gt; you should get an HTTP Basic challenge, and you can authenticate as &amp;ldquo;user/password&amp;rdquo; (your credentials in the Gateway), and once you do that you should see a greeting in the UI, via a backend call through the proxy to the Resource server.&lt;/p&gt;&lt;p&gt;The interactions between the browser and the backend can be seen in your browser if you use some developer tools (usually F12 opens this up, works in Chrome by default, requires a plugin in Firefox). Here&amp;rsquo;s a summary:&lt;/p&gt;
&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;Verb &lt;/th&gt;
      &lt;th&gt;Path &lt;/th&gt;
      &lt;th&gt;Status &lt;/th&gt;
      &lt;th&gt;Response&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;GET &lt;/td&gt;
      &lt;td&gt;/ui/ &lt;/td&gt;
      &lt;td&gt;401 &lt;/td&gt;
      &lt;td&gt;Browser prompts for authentication&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;GET &lt;/td&gt;
      &lt;td&gt;/ui/ &lt;/td&gt;
      &lt;td&gt;200 &lt;/td&gt;
      &lt;td&gt;index.html&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;GET &lt;/td&gt;
      &lt;td&gt;/ui/css/angular-bootstrap.css &lt;/td&gt;
      &lt;td&gt;200 &lt;/td&gt;
      &lt;td&gt;Twitter bootstrap CSS&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;GET &lt;/td&gt;
      &lt;td&gt;/ui/js/angular-bootstrap.js &lt;/td&gt;
      &lt;td&gt;200 &lt;/td&gt;
      &lt;td&gt;Bootstrap and Angular JS&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;GET &lt;/td&gt;
      &lt;td&gt;/ui/js/hello.js &lt;/td&gt;
      &lt;td&gt;200 &lt;/td&gt;
      &lt;td&gt;Application logic&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;GET &lt;/td&gt;
      &lt;td&gt;/ui/user &lt;/td&gt;
      &lt;td&gt;200 &lt;/td&gt;
      &lt;td&gt;authentication&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;GET &lt;/td&gt;
      &lt;td&gt;/resource/ &lt;/td&gt;
      &lt;td&gt;200 &lt;/td&gt;
      &lt;td&gt;JSON greeting&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;&lt;p&gt;You might not see the 401 because the browser treats the home page load as a single interaction. All requests are proxied (there is no content in the Gateway yet, beyond the Actuator endpoints for management).&lt;/p&gt;&lt;p&gt;Hurrah, it works! You have two backend servers, one of which is a UI, each with independent capabilities and able to be tested in isolation, and they are connected together with a secure Gateway that you control and for which you have configured the authentication. If the backends are not accessible to the browser it doesn&amp;rsquo;t matter (in fact it&amp;rsquo;s probably an advantage because it gives you yet more control over physical security).&lt;/p&gt;&lt;h2&gt;&lt;a href="#adding-a-login-form" class="anchor" name="adding-a-login-form"&gt;&lt;/a&gt;Adding a Login Form&lt;/h2&gt;&lt;p&gt;Just as in the &amp;ldquo;basic&amp;rdquo; sample in &lt;a href="http://spring.io/blog/2015/01/12/spring-and-angular-js-a-secure-single-page-application" title="First Article in the Series"&gt;Part I&lt;/a&gt; we can now add a login form to the Gateway, e.g. by copying the code from &lt;a href="http://spring.io/blog/2015/01/12/the-login-page-angular-js-and-spring-security-part-ii" title="Second Article in the Series"&gt;Part II&lt;/a&gt;. When we do that we can also add some basic navigation elements in the Gateway, so the user doesn&amp;rsquo;t have to know the path to the UI backend in the proxy. So let&amp;rsquo;s first copy the static assets from the &amp;ldquo;single&amp;rdquo; UI into the Gateway, delete the message rendering and insert a login form into our home page (in the &lt;code&gt;&amp;lt;body/&amp;gt;&lt;/code&gt; somewhere):&lt;/p&gt;
&lt;pre&gt;&lt;code class="prettyprint html"&gt;&amp;lt;body ng-app=&amp;quot;hello&amp;quot; ng-controller=&amp;quot;navigation&amp;quot; ng-cloak&#xD;
	class=&amp;quot;ng-cloak&amp;quot;&amp;gt;&#xD;
  ...&#xD;
  &amp;lt;div class=&amp;quot;container&amp;quot; ng-show=&amp;quot;!authenticated&amp;quot;&amp;gt;&#xD;
    &amp;lt;form role=&amp;quot;form&amp;quot; ng-submit=&amp;quot;login()&amp;quot;&amp;gt;&#xD;
      &amp;lt;div class=&amp;quot;form-group&amp;quot;&amp;gt;&#xD;
        &amp;lt;label for=&amp;quot;username&amp;quot;&amp;gt;Username:&amp;lt;/label&amp;gt; &amp;lt;input type=&amp;quot;text&amp;quot;&#xD;
          class=&amp;quot;form-control&amp;quot; id=&amp;quot;username&amp;quot; name=&amp;quot;username&amp;quot;&#xD;
          ng-model=&amp;quot;credentials.username&amp;quot; /&amp;gt;&#xD;
      &amp;lt;/div&amp;gt;&#xD;
      &amp;lt;div class=&amp;quot;form-group&amp;quot;&amp;gt;&#xD;
        &amp;lt;label for=&amp;quot;password&amp;quot;&amp;gt;Password:&amp;lt;/label&amp;gt; &amp;lt;input type=&amp;quot;password&amp;quot;&#xD;
          class=&amp;quot;form-control&amp;quot; id=&amp;quot;password&amp;quot; name=&amp;quot;password&amp;quot;&#xD;
          ng-model=&amp;quot;credentials.password&amp;quot; /&amp;gt;&#xD;
      &amp;lt;/div&amp;gt;&#xD;
      &amp;lt;button type=&amp;quot;submit&amp;quot; class=&amp;quot;btn btn-primary&amp;quot;&amp;gt;Submit&amp;lt;/button&amp;gt;&#xD;
    &amp;lt;/form&amp;gt;&#xD;
  &amp;lt;/div&amp;gt;&#xD;
&amp;lt;/body&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Instead of the message rendering we will have a nice big navigation button:&lt;/p&gt;
&lt;pre&gt;&lt;code class="prettyprint html"&gt;&amp;lt;div class=&amp;quot;container&amp;quot; ng-show=&amp;quot;authenticated&amp;quot;&amp;gt;&#xD;
  &amp;lt;a class=&amp;quot;btn btn-primary&amp;quot; href=&amp;quot;/ui/&amp;quot;&amp;gt;Go To User Interface&amp;lt;/a&amp;gt;&#xD;
&amp;lt;/div&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;If you are looking at the sample in github, it also has a minimal navigation bar with a &amp;ldquo;Logout&amp;rdquo; button. Here&amp;rsquo;s the login form in a screenshot:&lt;/p&gt;&lt;p&gt;&lt;img src="https://raw.githubusercontent.com/dsyer/spring-security-angular/master/double/login.png" alt="Login Page""/&gt;&lt;/p&gt;&lt;p&gt;To support the login form we need some JavaScript with a &amp;ldquo;navigation&amp;rdquo; controller implementing the &lt;code&gt;login()&lt;/code&gt; function we declared in the &lt;code&gt;&amp;lt;form/&amp;gt;&lt;/code&gt;, and we need to set the &lt;code&gt;authenticated&lt;/code&gt; flag so that the home page will render differently depending on whether or not the user is authenticated. For example:&lt;/p&gt;
&lt;pre&gt;&lt;code class="prettyprint javascript"&gt;angular.module(&amp;#39;hello&amp;#39;, []).controller(&amp;#39;navigation&amp;#39;,&#xD;
function($scope, $http) {&#xD;
&#xD;
  ...&#xD;
  &#xD;
  authenticate();&#xD;
  &#xD;
  $scope.credentials = {};&#xD;
&#xD;
$scope.login = function() {&#xD;
    authenticate($scope.credentials, function() {&#xD;
      if ($scope.authenticated) {&#xD;
        console.log(&amp;quot;Login succeeded&amp;quot;)&#xD;
        $scope.error = false;&#xD;
        $scope.authenticated = true;&#xD;
      } else {&#xD;
        console.log(&amp;quot;Login failed&amp;quot;)&#xD;
        $scope.error = true;&#xD;
        $scope.authenticated = false;&#xD;
      }&#xD;
    })&#xD;
  };&#xD;
&#xD;
}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;where the implementation of the &lt;code&gt;authenticate()&lt;/code&gt; function is similar to that in &lt;a href="http://spring.io/blog/2015/01/12/the-login-page-angular-js-and-spring-security-part-ii" title="Second Article in the Series"&gt;Part II&lt;/a&gt;:&lt;/p&gt;
&lt;pre&gt;&lt;code class="prettyprint javascript"&gt;var authenticate = function(credentials, callback) {&#xD;
&#xD;
  var headers = credentials ? {&#xD;
    authorization : &amp;quot;Basic &amp;quot;&#xD;
        + btoa(credentials.username + &amp;quot;:&amp;quot;&#xD;
            + credentials.password)&#xD;
  } : {};&#xD;
&#xD;
  $http.get(&amp;#39;user&amp;#39;, {&#xD;
    headers : headers&#xD;
  }).success(function(data) {&#xD;
    if (data.name) {&#xD;
      $scope.authenticated = true;&#xD;
    } else {&#xD;
      $scope.authenticated = false;&#xD;
    }&#xD;
    callback &amp;amp;&amp;amp; callback();&#xD;
  }).error(function() {&#xD;
    $scope.authenticated = false;&#xD;
    callback &amp;amp;&amp;amp; callback();&#xD;
  });&#xD;
&#xD;
}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;We can use the &lt;code&gt;$scope&lt;/code&gt; to store the &lt;code&gt;authenticated&lt;/code&gt; flag because there is only one controller in this simple application.&lt;/p&gt;&lt;p&gt;If we run this enhanced Gateway, instead of having to remember the URL for the UI we can just load the home page and follow links. Here&amp;rsquo;s the home page for an authenticated user:&lt;/p&gt;&lt;p&gt;&lt;img src="https://raw.githubusercontent.com/dsyer/spring-security-angular/master/double/home.png" alt="Home Page""/&gt;&lt;/p&gt;&lt;h2&gt;&lt;a href="#granular-access-decisions-in-the-backend" class="anchor" name="granular-access-decisions-in-the-backend"&gt;&lt;/a&gt;Granular Access Decisions in the Backend&lt;/h2&gt;&lt;p&gt;Up to now our application is functionally very similar to the one in &lt;a href="http://spring.io/blog/2015/01/20/the-resource-server-angular-js-and-spring-security-part-iii" title="Third Article in the Series"&gt;Part III&lt;/a&gt; or &lt;a href="http://spring.io/blog/2015/01/28/the-api-gateway-pattern-angular-js-and-spring-security-part-iv" title="Fourth Article in the Series"&gt;Part IV&lt;/a&gt;, but with an additional dedicated Gateway. The advantage of the extra layer may not be yet apparent, but we can emphasise it by expanding the system a bit. Suppose we want to use that Gateway to expose another backend UI, for users to &amp;ldquo;administrate&amp;rdquo; the content in the main UI, and that we want to restrict access to this feature to users with special roles. So we will add an &amp;ldquo;Admin&amp;rdquo; application behind the proxy, and the system will look like this:&lt;/p&gt;&lt;p&gt;&lt;img src="https://raw.githubusercontent.com/dsyer/spring-security-angular/master/double/double-components.png" alt="Components of the System""/&gt;&lt;/p&gt;&lt;p&gt;There is a new component (Admin) and a new route in the Gateway in &lt;code&gt;application.yml&lt;/code&gt;:&lt;/p&gt;
&lt;pre&gt;&lt;code class="prettyprint yaml"&gt;zuul:&#xD;
  routes:&#xD;
    ui:&#xD;
      url: http://localhost:8081&#xD;
    admin:&#xD;
      url: http://localhost:8082&#xD;
    resource:&#xD;
      url: http://localhost:9000
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;The fact that the existing UI is available to users in the &amp;ldquo;USER&amp;rdquo; role is indicated on the block diagram above in the Gateway box (green lettering), as is the fact that the &amp;ldquo;ADMIN&amp;rdquo; role is needed to go to the Admin application. The access decision for the &amp;ldquo;ADMIN&amp;rdquo; role could be applied in the Gateway, in which case it would appear in a &lt;code&gt;WebSecurityConfigurerAdapter&lt;/code&gt;, or it could be applied in the Admin application itself (and we will see how to do that below).&lt;/p&gt;&lt;p&gt;In addition, suppose that within the Admin application we want to distinguish between &amp;ldquo;READER&amp;rdquo; and &amp;ldquo;WRITER&amp;rdquo; roles, so that we can permit (let&amp;rsquo;s say) users who are auditors to view the changes made by the main admin users. This is a granular access decision, where the rule is only known, and should only be known, in the backend application. In the Gateway we only need to ensure that our user accounts have the roles needed, and this information is available, but the Gateway doesn&amp;rsquo;t need to know how to interpret it. In the Gateway we create user accounts to keep the sample application self-contained:&lt;/p&gt;
&lt;pre&gt;&lt;code class="prettyprint javascript"&gt;@Configuration&#xD;
public class SecurityConfiguration extends WebSecurityConfigurerAdapter {&#xD;
&#xD;
  @Autowired&#xD;
  public void globalUserDetails(AuthenticationManagerBuilder auth) throws Exception {&#xD;
    auth.inMemoryAuthentication()&#xD;
      .withUser(&amp;quot;user&amp;quot;).password(&amp;quot;password&amp;quot;).roles(&amp;quot;USER&amp;quot;)&#xD;
    .and()&#xD;
      .withUser(&amp;quot;admin&amp;quot;).password(&amp;quot;admin&amp;quot;).roles(&amp;quot;USER&amp;quot;, &amp;quot;ADMIN&amp;quot;, &amp;quot;READER&amp;quot;, &amp;quot;WRITER&amp;quot;)&#xD;
    .and()&#xD;
      .withUser(&amp;quot;audit&amp;quot;).password(&amp;quot;audit&amp;quot;).roles(&amp;quot;USER&amp;quot;, &amp;quot;ADMIN&amp;quot;, &amp;quot;READER&amp;quot;);&#xD;
  }&#xD;
  &#xD;
}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;where the &amp;ldquo;admin&amp;rdquo; user has been enhanced with 3 new roles (&amp;ldquo;ADMIN&amp;rdquo;, &amp;ldquo;READER&amp;rdquo; and &amp;ldquo;WRITER&amp;rdquo;) and we have also added an &amp;ldquo;audit&amp;rdquo; user with &amp;ldquo;ADMIN&amp;rdquo; access, but not &amp;ldquo;WRITER&amp;rdquo;.&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;Aside: In a production system the user account data would be managed in a backend database (most likely a directory service), not hard coded in the Spring Configuration. Sample applications connecting to such a database are easy to find on the internet, for example in the &lt;a href="https://github.com/spring-projects/spring-security/tree/master/samples"&gt;Spring Security Samples&lt;/a&gt;.&lt;/p&gt;
&lt;/blockquote&gt;&lt;p&gt;The access decisions go in the Admin application. For the &amp;ldquo;ADMIN&amp;rdquo; role (which is required globally for this backend) we do it in Spring Security:&lt;/p&gt;
&lt;pre&gt;&lt;code class="prettyprint java"&gt;@Configuration&#xD;
public class SecurityConfiguration extends WebSecurityConfigurerAdapter {&#xD;
&#xD;
@Override&#xD;
  protected void configure(HttpSecurity http) throws Exception {&#xD;
    http&#xD;
    ...&#xD;
      .authorizeRequests()&#xD;
        .antMatchers(&amp;quot;/index.html&amp;quot;, &amp;quot;/login&amp;quot;, &amp;quot;/&amp;quot;).permitAll()&#xD;
        .antMatchers(&amp;quot;/admin/**&amp;quot;).hasRole(&amp;quot;ADMIN&amp;quot;)&#xD;
        .anyRequest().authenticated()&#xD;
    ...&#xD;
  }&#xD;
  &#xD;
}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;For the &amp;ldquo;READER&amp;rdquo; and &amp;ldquo;WRITER&amp;rdquo; roles the application itself is split, and since the application is implemented in JavaScript, that is where we need to make the access decision. One way to do this is to have a home page with a computed view embedded in it:&lt;/p&gt;
&lt;pre&gt;&lt;code class="prettyprint html"&gt;&amp;lt;div class=&amp;quot;container&amp;quot;&amp;gt;&#xD;
  &amp;lt;h1&amp;gt;Admin&amp;lt;/h1&amp;gt;&#xD;
  &amp;lt;div ng-show=&amp;quot;authenticated&amp;quot; ng-include=&amp;quot;template&amp;quot;&amp;gt;&amp;lt;/div&amp;gt;&#xD;
  &amp;lt;div ng-show=&amp;quot;!authenticated&amp;quot; ng-include=&amp;quot;&amp;#39;unauthenticated.html&amp;#39;&amp;quot;&amp;gt;&amp;lt;/div&amp;gt;&#xD;
&amp;lt;/div&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Angular JS evaluates the &amp;ldquo;ng-include&amp;rdquo; attribute value as an expression, and then uses the result to load a template. &lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;Tip: A more complex application might use other mechanisms to modularize itself, e.g. the &lt;code&gt;$routeProvider&lt;/code&gt; service that we used in nearly all the other applications in this series. &lt;/p&gt;
&lt;/blockquote&gt;&lt;p&gt;The &lt;code&gt;template&lt;/code&gt; variable is initialized in our controller, first by defining a utility function:&lt;/p&gt;
&lt;pre&gt;&lt;code class="prettyprint javascript"&gt;var computeDefaultTemplate = function(user) {&#xD;
  $scope.template = user &amp;amp;&amp;amp; user.roles&#xD;
      &amp;amp;&amp;amp; user.roles.indexOf(&amp;quot;ROLE_WRITER&amp;quot;)&amp;gt;0 ? &amp;quot;write.html&amp;quot; : &amp;quot;read.html&amp;quot;;		&#xD;
}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;then by using the utility function when the controller loads:&lt;/p&gt;
&lt;pre&gt;&lt;code class="prettyprint javascript"&gt;angular.module(&amp;#39;admin&amp;#39;, []).controller(&amp;#39;home&amp;#39;,&#xD;
&#xD;
function($scope, $http) {&#xD;
	&#xD;
  $http.get(&amp;#39;user&amp;#39;).success(function(data) {&#xD;
    if (data.name) {&#xD;
      $scope.authenticated = true;&#xD;
      $scope.user = data;&#xD;
      computeDefaultTemplate(data);&#xD;
    } else {&#xD;
      $scope.authenticated = false;&#xD;
    }&#xD;
    $scope.error = null&#xD;
  })&#xD;
  ...&#xD;
      &#xD;
})
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;the first thing the application does is look at the usual (for this series) &amp;ldquo;/user&amp;rdquo; endpoint, then it extracts some data, sets the authenticated flag, and if the user is authenticated, computes the template by looking at the user data. &lt;/p&gt;&lt;p&gt;To support this function on the backend we need an endpoint, e.g. in our main application class:&lt;/p&gt;
&lt;pre&gt;&lt;code class="prettyprint java"&gt;@SpringBootApplication&#xD;
@RestController&#xD;
@EnableRedisHttpSession&#xD;
public class AdminApplication {&#xD;
&#xD;
  @RequestMapping(&amp;quot;/user&amp;quot;)&#xD;
  public Map&amp;lt;String, Object&amp;gt; user(Principal user) {&#xD;
    Map&amp;lt;String, Object&amp;gt; map = new LinkedHashMap&amp;lt;String, Object&amp;gt;();&#xD;
    map.put(&amp;quot;name&amp;quot;, user.getName());&#xD;
    map.put(&amp;quot;roles&amp;quot;, AuthorityUtils.authorityListToSet(((Authentication) user)&#xD;
        .getAuthorities()));&#xD;
    return map;&#xD;
  }&#xD;
&#xD;
  public static void main(String[] args) {&#xD;
    SpringApplication.run(AdminApplication.class, args);&#xD;
  }&#xD;
&#xD;
}
&lt;/code&gt;&lt;/pre&gt;
&lt;blockquote&gt;&lt;p&gt;Note: the role names come back from the &amp;ldquo;/user&amp;rdquo; endpoint with the &amp;ldquo;ROLE_&amp;rdquo; prefix so we can distinguish them from other kinds of authorities (it&amp;rsquo;s a Spring Security thing). Thus the &amp;ldquo;ROLE_&amp;rdquo; prefix is needed in the JavaScript, but not in the Spring Security configuration, where it is clear from the method names that &amp;ldquo;roles&amp;rdquo; are the focus of the operations.&lt;/p&gt;
&lt;/blockquote&gt;&lt;h2&gt;&lt;a href="#why-are-we-here" class="anchor" name="why-are-we-here"&gt;&lt;/a&gt;Why are we Here?&lt;/h2&gt;&lt;p&gt;Now we have a nice little system with 2 independent user interfaces and a backend Resource server, all protected by the same authentication in a Gateway. The fact that the Gateway acts as a micro-proxy makes the implementation of the backend security concerns extremely simple, and they are free to concentrate on their own business concerns. The use of Spring Session has (again) avoided a huge amount of hassle and potential errors.&lt;/p&gt;&lt;p&gt;A powerful feature is that the backends can independently have any kind of authentication they like (e.g. you can go directly to the UI if you know its physical address and a set of local credentials). The Gateway imposes a completely unrelated set of constraints, as long as it can authenticate users and assign metadata to them that satisfy the access rules in the backends. This is an excellent design for being able to independently develop and test the backend components. If we wanted to, we could go back to an external OAuth2 server (like in &lt;a href="https://spring.io/blog/2015/02/03/sso-with-oauth2-angular-js-and-spring-security-part-v" title="Fifth Article in the Series"&gt;Part V&lt;/a&gt;, or even something completely different) for the authentication at the Gateway, and the backends would not need to be touched.&lt;/p&gt;&lt;p&gt;A bonus feature of this architecture (single Gateway controlling authentication, and shared session token across all components) is that &amp;ldquo;Single Logout&amp;rdquo;, a feature we identified as difficult to implement in &lt;a href="https://spring.io/blog/2015/02/03/sso-with-oauth2-angular-js-and-spring-security-part-v" title="Fifth Article in the Series"&gt;Part V&lt;/a&gt;, comes for free. To be more precise, one particular approach to the user experience of single logout is automatically available in our finished system: if a user logs out of any of the UIs (Gateway, UI backend or Admin backend), he is logged out of all the others, assuming that each individual UI implemented a &amp;ldquo;logout&amp;rdquo; feature the same way (invalidating the session).&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;Thanks: I would like to thank again everyone who helped me develop this series, and in particular &lt;a href="http://spring.io/team/rwinch"&gt;Rob Winch&lt;/a&gt; and &lt;a href="https://twitter.com/thspaeth"&gt;Thorsten Späth&lt;/a&gt; for their careful reviews of the articles and sources code. Since &lt;a href="http://spring.io/blog/2015/01/12/spring-and-angular-js-a-secure-single-page-application" title="First Article in the Series"&gt;Part I&lt;/a&gt; was published it hasn&amp;rsquo;t changed much but all the other parts have evolved in response to comments and insights from readers, so thank you also to anyone who read the articles and took the trouble to join in the discussion.&lt;/p&gt;
&lt;/blockquote&gt;</content>
  </entry>
</feed>

